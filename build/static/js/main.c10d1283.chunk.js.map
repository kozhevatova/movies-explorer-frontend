{"version":3,"sources":["images/accountIcon.svg","components/Navigation/Navigation.js","components/Header/Header.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/Info/Info.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/myPhoto.jpg","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","components/Footer/Footer.js","utils/useFormWithValidation.js","components/SearchForm/SearchForm.js","utils/constants.js","utils/utils.js","utils/MoviesApi.js","contexts/CurrentUserContext.js","components/MoviesCard/MoviesCard.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Profile/Profile.js","components/AuthForm/AuthForm.js","components/Login/Login.js","components/Register/Register.js","components/NotFoundPage/NotFoundPage.js","components/Menu/Menu.js","components/InfoPopup/InfoPopup.js","utils/MainApi.js","utils/auth.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Navigation","handleOnSavedMoviesClick","handleOnMoviesClick","useState","isMoviesClicked","setIsMoviesClicked","isSavedMoviesClicked","setIsSavedMoviesClicked","isMainClicked","setIsMainClicked","className","to","onClick","src","accountImg","alt","Header","pathname","isLoggedIn","handleMenuOpen","headerClassName","type","Promo","NavTab","href","Info","props","id","linkId","name","content","title","children","AboutProject","Techs","AboutMe","target","rel","myPhoto","Portfolio","Main","Footer","footerClassName","Date","getFullYear","useFormWithValidation","initialValues","React","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","value","validationMessage","closest","checkValidity","SearchForm","handleSearchSubmit","handleTumblerClick","isDisabled","isChecked","setIsChecked","onSubmit","e","preventDefault","movie","noValidate","placeholder","required","onChange","disabled","checked","failMessage","movieSearchFailedMessage","defaultProp","checkMovieTitle","query","nameRU","toLowerCase","replaceAll","split","includes","nameEN","checkIfIsShort","duration","searchMovies","movies","queryArr","trim","filter","i","length","BASE_URL_MOVIE","moviesApi","options","this","baseUrl","res","ok","json","Promise","reject","Error","status","fetch","headers","then","_getResponseData","CurrentUserContext","createContext","MoviesCard","min","image","isOnSavedPage","saveMovie","deleteMovie","currentUser","useContext","isSaved","owner","_id","saveButtonClassName","trailer","style","background","url","aria-label","Math","floor","Preloader","MoviesCardList","movieList","isFound","isRequestDone","amountToRender","isLoading","moviesCardlistClassName","slice","map","Movies","handleMoreBtnClick","isMoreBtnVisible","SavedMovies","Profile","handleLogout","handleSubmit","email","method","minLength","maxLength","pattern","AuthForm","greeting","isNameVisible","buttonText","captionText","route","navLinkText","Login","onLogin","Register","onRegister","NotFoundPage","history","useHistory","goBack","Menu","handleMenuClose","isOpen","InfoPopup","closePopup","message","mainApi","jwt","authorization","body","JSON","stringify","country","director","year","description","trailerLink","thumbnail","formats","movieId","deleteMovieFromSaved","BASE_URL","ProtectedRoute","Component","component","App","location","useLocation","setCurrentUser","setIsLoggedIn","isRegisterFailed","setIsRegisterFailed","isMenuOpen","setIsMenuOpen","isInfoPopupOpen","setIsInfoPopupOpen","setIsLoading","popupMessage","setPopupMessage","beatfilmMovies","setBeatfilmMovies","setMovies","savedMovies","setSavedMovies","isFoundInMovies","setIsFoundInMovies","isFoundInSavedMovies","setIsFoundInSavedMovies","setIsRequestDone","isRequestInSavedDone","setIsRequestInSavedDone","setAmountToRender","defaultAmountToRender","setDefaultAmountToRender","setIsMoreBtnVisible","setIsOnSavedPage","useEffect","localStorage","getItem","all","getMovies","getUserInfo","userInfo","userSavedMovies","m","setItem","parse","catch","err","console","log","finally","window","addEventListener","checkWidth","removeEventListener","token","data","push","handleTokenCheck","removeItem","renderValue","innerWidth","localMovies","updateMovies","isShortFilm","amount","moviesWithSavedOnes","savedItem","find","shortFilms","handleSearchInMovies","resolve","getBeatFilmMovies","searchPromise","openInfoPopup","handleSearchInSaved","searchInSavedPromise","localSavedMovies","filterShortFilmsInSaved","filterShortFilms","some","newSavedMovies","deletedMovie","newMovies","setEscListener","closeAllPopups","removeEscListener","handleEscClose","key","handleCLosePopupByClickOnOverlay","currentTarget","document","handleLogin","password","auth","Provider","exact","path","newAmount","updateUserInfo","isFailed","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c10d1283.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/accountIcon.8c78cf51.svg\";","import { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Navigation.css';\nimport accountImg from '../../images/accountIcon.svg';\n\n\nconst Navigation = ({ handleOnSavedMoviesClick, handleOnMoviesClick }) => {\n  const [isMoviesClicked, setIsMoviesClicked] = useState(false);\n  const [isSavedMoviesClicked, setIsSavedMoviesClicked] = useState(false);\n  const [isMainClicked, setIsMainClicked] = useState(false);\n\n  const handleMoviesClick = () => {\n    handleOnMoviesClick();\n    setIsMoviesClicked(true);\n    setIsSavedMoviesClicked(false);\n    setIsMainClicked(false);\n  }\n\n  const handleSavedMoviesClick = () => {\n    handleOnSavedMoviesClick();\n    setIsSavedMoviesClicked(true);\n    setIsMoviesClicked(false);\n    setIsMainClicked(false);\n  }\n\n  const handleMainClicked = () => {\n    setIsMainClicked(true);\n    setIsSavedMoviesClicked(false);\n    setIsMoviesClicked(false);\n  }\n\n  return (\n    <nav className=\"nav\">\n      <div className=\"nav__options\">\n        <NavLink to=\"/\" className={`nav__link nav__link_type_main ${isMainClicked && 'nav__link_active'}`}\n          onClick={handleMainClicked}>Главная</NavLink>\n        <div className=\"nav__movies\">\n          <NavLink to=\"/movies\" className={`nav__link ${isMoviesClicked && 'nav__link_active'}`}\n            onClick={handleMoviesClick}>Фильмы</NavLink>\n          <NavLink to=\"/saved-movies\" className={`nav__link ${isSavedMoviesClicked && 'nav__link_active'}`}\n            onClick={handleSavedMoviesClick}>Сохраненные фильмы</NavLink>\n        </div>\n        <NavLink to=\"/profile\" className=\"nav__account\">\n          <img className=\"nav__account-img\" src={accountImg} alt=\"Аккаунт\" />\n          Аккаунт\n        </NavLink>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;","import './Header.css';\nimport { NavLink } from 'react-router-dom';\nimport Navigation from '../Navigation/Navigation';\n\nconst Header = ({ pathname, isLoggedIn, handleMenuOpen, handleOnSavedMoviesClick, handleOnMoviesClick }) => {\n  const headerClassName = (\n    `header \n      ${(pathname === '/movies' || pathname === '/saved-movies' || pathname==='/profile') && 'header_logged-in'}\n       ${pathname=== '/' && 'header_visible'}\n      `\n  )\n  return (\n    <header className={headerClassName}>\n      <div className=\"header__container\">\n        <NavLink to=\"/\" className=\"header__logo\"/>\n        {\n          !isLoggedIn && pathname === '/' ?\n            <nav className=\"header__options\">\n              <NavLink to=\"/signup\" className=\"header__option header__option_to-register\">Регистрация</NavLink>\n              <NavLink to=\"/signin\" className=\"header__option header__option_to-login\">Войти</NavLink>\n            </nav> :\n            <div className=\"header__nav\">\n              <Navigation handleOnSavedMoviesClick={handleOnSavedMoviesClick} handleOnMoviesClick={handleOnMoviesClick} />\n            </div>\n        }\n        {isLoggedIn && <button className=\"header__menu-btn\" type=\"button\" onClick={handleMenuOpen}></button>}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import './Promo.css';\n\nconst Promo = () => {\n  return(\n    <section className=\"promo\">\n      <div className=\"promo__container\">\n        <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n      </div>\n    </section>\n  );\n}\n\nexport default Promo;","import './NavTab.css';\n\nconst NavTab = () => {\n  return (\n    <section className=\"navtab\">\n      <nav className=\"navtab__container\">\n        <ul className=\"navtab__list\">\n          <li className=\"navtab__item\">\n            <a href=\"#about-project\" className=\"navtab__link\">О проекте</a>\n          </li>\n          <li className=\"navtab__item\">\n            <a href=\"#techs\" className=\"navtab__link\">Технологии</a>\n          </li>\n          <li className=\"navtab__item\">\n            <a href=\"#about-student\" className=\"navtab__link\">Студент</a>\n          </li>\n        </ul>\n      </nav>\n    </section>\n\n  );\n};\n\nexport default NavTab;","import './Info.css';\n\nconst Info = (props) => {\n  return (\n    <section className={`info info_type_${props.type}`}>\n      <div className={`info__container info__container_type_${props.type}`}>\n        <h2 className=\"info__title\">\n          {// eslint-disable-next-line jsx-a11y/anchor-is-valid\n          <a id={props.linkId} name={props.linkId} className=\"info__anchor\">{props.content}</a>}\n        {props.title}\n      </h2>\n      {props.children}\n      </div>\n    </section>\n  );\n};\n\nexport default Info;","import './AboutProject.css';\nimport Info from '../Info/Info';\n\nconst AboutProject = () => {\n  return (\n    <Info title=\"О проекте\" linkId=\"about-project\" type=\"project\" content=\"Информация о проекте.\">\n      <ul className=\"project-info\">\n        <li className=\"project-info__phase\">\n          <p className=\"project-info__text project-info__text_type_title\">Дипломный проект включал 5 этапов</p>\n        </li>\n        <li className=\"project-info__phase-descr\">\n          <p className=\"project-info__text project-info__text_type_description\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </li>\n        <li className=\"project-info__timing\">\n          <p className=\"project-info__text project-info__text_type_title\">На выполнение диплома ушло 5 недель</p>\n        </li>\n        <li className=\"project-info__timing-descr\">\n          <p className=\"project-info__text project-info__text_type_description\">У каждого этапа был мягкий и жесткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </li>\n      </ul>\n      <div className=\"project-info__scale\">\n        <div className=\"project-info__period\">\n          <p className=\"project-info__text\">1 неделя</p>\n        </div>\n        <p className=\"project-info__text project-info__text_type_back\">Back-end</p>\n        <div className=\"project-info__period\">\n          <p className=\"project-info__text\">4 недели</p>\n        </div>\n        <p className=\"project-info__text project-info__text_type_front\">Front-end</p>\n      </div>\n    </Info>\n  );\n};\n\nexport default AboutProject;","import './Techs.css';\nimport Info from '../Info/Info';\n\nconst Techs = () => {\n  return (\n    <Info title=\"Технологии\" linkId=\"techs\" type=\"techs\" content=\"Информация о технологиях.\">\n      <div className=\"techs\">\n        <h2 className=\"techs__title\">Технологии</h2>\n        <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили\n        в дипломном проекте.</p>\n        <ul className=\"techs__list\">\n          <p className=\"techs__item\">HTML</p>\n          <p className=\"techs__item\">CSS</p>\n          <p className=\"techs__item\">JS</p>\n          <p className=\"techs__item\">React</p>\n          <p className=\"techs__item\">Git</p>\n          <p className=\"techs__item\">Express.js</p>\n          <p className=\"techs__item\">mongoDB</p>\n        </ul>\n      </div>\n    </Info>\n  );\n};\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/myPhoto.c2719cec.jpg\";","import './AboutMe.css';\nimport Info from '../Info/Info';\nimport myPhoto from '../../images/myPhoto.jpg';\n\nconst AboutMe = () => {\n  return (\n    <Info title=\"Студент\" linkId=\"about-student\" type=\"student\" content=\"Информация о студенте.\">\n      <div className=\"student-info\">\n        <h2 className=\"student-info__title\">Анна</h2>\n        <p className=\"student-info__subtitle\">Фронтенд-разработчик, 29 лет</p>\n        <p className=\"student-info__text\">Я родилась и живу в Москве, закончила факультет товароведения\n        в РЭУ им. Плеханова. В свободное время люблю заниматься йогой и читать детективы. Несколько лет работала\n        в сфере маркетинга. Но тут в моей жизни появилось программирование. До сих пор удивляюсь, как можно было\n        раньше заниматься чем-то другим. </p>\n        <ul className=\"student-info__links\">\n          <li>\n            <a className=\"student-info__link\" href=\"https://www.facebook.com/anna.kozhevatova/\"\n              target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n          </li>\n          <li>\n            <a className=\"student-info__link\" href=\"https://github.com/kozhevatova\"\n              target=\"_blank\" rel=\"noreferrer\">Github</a>\n          </li>\n        </ul>\n        <img className=\"student-info__photo\" src={myPhoto} alt=\"Фото студента.\" />\n      </div>\n    </Info>\n  );\n};\n\nexport default AboutMe;","import './Portfolio.css';\n\nconst Portfolio = () => {\n  return(\n    <section className=\"portfolio\">\n      <div className=\"portfolio__container\">\n        <h4 className=\"portfolio__title\">Портфолио</h4>\n        <ul className=\"portfolio__links\">\n          <li className=\"portfolio__item\">\n            <a className=\"portfolio__link\" href=\"https://kozhevatova.github.io/how-to-learn/index.html\" target=\"_blank\" rel=\"noreferrer\">\n              Статичный сайт</a>\n          </li>\n          <li className=\"portfolio__item\">\n            <a className=\"portfolio__link\" href=\"https://kozhevatova.github.io/russian-travel/index.html\" target=\"_blank\" rel=\"noreferrer\">\n              Адаптивный сайт</a>\n          </li>\n          <li className=\"portfolio__item\">\n            <a className=\"portfolio__link\" href=\"https://annakin.students.nomoreparties.space\" target=\"_blank\" rel=\"noreferrer\">\n              Одностраничное приложение</a>\n          </li>\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nexport default Portfolio;","import Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport './Main.css';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\n\nconst Main = () => {\n  return (\n    <main>\n        <Promo />\n        <NavTab />\n        <AboutProject/>\n        <Techs/>\n        <AboutMe/>\n        <Portfolio/>\n    </main>\n  );\n};\n\nexport default Main;","import './Footer.css';\n\nconst Footer = ({ pathname }) => {\n  const footerClassName = (\n    `footer\n    ${(pathname === '/movies' || pathname === '/saved-movies' || pathname === '/profile') && 'footer_visible'}`\n  )\n  return (\n    <footer className={footerClassName}>\n      <div className=\"footer__container\">\n        <p className=\"footer__caption\">Учебный проект Яндекс.Практикум х BeatFilm</p>\n        <div className=\"footer__info\">\n          <p className=\"footer__date\">&copy; <span id=\"year\">{new Date().getFullYear()}</span></p>\n          <ul className=\"footer__links\">\n            <li className=\"footer__item\">\n              <a className=\"footer__link\" href=\"https://praktikum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n            </li>\n            <li className=\"footer__item\">\n              <a className=\"footer__link\" href=\"https://github.com/kozhevatova\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n            </li>\n            <li className=\"footer__item\">\n              <a className=\"footer__link\" href=\"https://www.facebook.com/anna.kozhevatova/\" target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;","import React, { useCallback } from 'react';\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation(initialValues) {\n  const [values, setValues] = React.useState(initialValues);\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm };\n}","import { useState } from 'react';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\nimport './SearchForm.css';\n\nconst SearchForm = ({ handleSearchSubmit, handleTumblerClick, isDisabled }) => {\n  const { values, handleChange, errors, isValid } = useFormWithValidation({});\n  const [isChecked, setIsChecked] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isValid) {\n      handleSearchSubmit(values.movie, isChecked); \n    }\n  }\n\n  //запись в стейт текущие значения инпутов при вводе\n  const handleCheckboxChange = (e) => {\n        setIsChecked(e.target.checked);\n        handleTumblerClick(e.target.checked, values.movie);\n  }\n  \n  return (\n    <div className=\"search\">\n      <form className=\"search__form\" onSubmit={handleSubmit} noValidate>\n        <input className={`search__input ${errors && errors[\"movie\"] && 'search__input_type_error'}`} \n        placeholder=\"Фильм\" required onChange={handleChange} name=\"movie\" type=\"text\" disabled={isDisabled}></input>\n        <span className=\"search__input-error\">\n          {errors && errors[\"movie\"] && errors[\"movie\"]}\n        </span>\n        <button type=\"submit\" className=\"search__button\" disabled={!isValid}>Поиск</button>\n      </form>\n      <label className=\"search__tumbler\">\n        <input type=\"checkbox\" name=\"shortFilmCheckbox\" className=\"search__checkbox\"\n          checked={isChecked} onChange={handleCheckboxChange} disabled={isDisabled}></input>\n        <span className=\"search__slider\"></span>\n        <span className=\"search__label-text\">Короткометражки</span>\n      </label>\n    </div>\n\n  );\n};\n\nexport default SearchForm;","const shortFilmCheckbox = 'shortFilmCheckbox';\nconst movieInput = \"movieInput\";\nconst registerSuccessMessage = 'Вы успешно зарегистрированы!';\nconst failMessage = 'Произошла ошибка! Попробуйте ещё раз.';\nconst updateSuccessMessage = 'Данные успешно обновлены!';\nconst loginErrorMessage = 'Почта или пароль введены не верно. Попробуйте еще раз!'\nconst movieSearchFailedMessage = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\n\nconst amountToRender1280 = 12;\nconst defaultAmountToRender1280 = 3;\nconst amountToRender1024 = 9;\nconst defaultAmountToRender1024 = 3;\nconst amountToRender768 = 8;\nconst defaultAmountToRender768 = 2;\nconst amountToRender320 = 5;\nconst defaultAmountToRender320 = 2;\n\nconst defaultProp = 'default';\n\nconst shortMovieDuration = 40;\n\nexport { shortFilmCheckbox, movieInput, registerSuccessMessage,\n  failMessage, updateSuccessMessage, loginErrorMessage, movieSearchFailedMessage, defaultProp,\n  amountToRender1280, amountToRender1024, amountToRender768, amountToRender320,\n  defaultAmountToRender1280, defaultAmountToRender1024, defaultAmountToRender768,\n  defaultAmountToRender320, shortMovieDuration\n};","import { shortMovieDuration } from \"./constants\";\n\nconst convertMinToHours = (min) => {\n  return `${Math.floor(min/60)}ч${min % 60}м`\n}\n\nconst checkMovieTitle = (movie, query) => {\n  return movie.nameRU.toLowerCase().replaceAll(/[\"«»]/g, '').split(' ').includes(query.toLowerCase()) ||\n    (movie.nameEN && movie.nameEN.toLowerCase().replaceAll(/[\"«»]/g, '').split(' ').includes(query.toLowerCase()));\n}\n\nconst checkIfIsShort = (movie) => {\n  return movie.duration <= shortMovieDuration;\n}\n\nconst searchMovies = (movies,query) => {\n  const queryArr = query.toLowerCase().trim().split(' ');\n  const result = movies.filter((movie) => {\n    for(let i = 0; i < queryArr.length; i++) {\n      if(!checkMovieTitle(movie, queryArr[i])) {\n        return false;\n      } \n    }\n    return true;\n  });\n  return result;\n}\n\n\nexport { convertMinToHours, searchMovies, checkIfIsShort };","export const BASE_URL_MOVIE = \"https://api.nomoreparties.co\";\n\nclass MoviesApi {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getBeatFilmMovies() {\n    return fetch(`${this.baseUrl}/beatfilm-movies`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then((res) => this._getResponseData(res));\n  }\n}\n\nconst moviesApi = new MoviesApi({\n  baseUrl: BASE_URL_MOVIE\n});\n\nexport default moviesApi;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import { useContext } from 'react';\nimport { convertMinToHours } from '../../utils/utils';\nimport { BASE_URL_MOVIE } from '../../utils/MoviesApi';\nimport './MoviesCard.css';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nconst MoviesCard = ({ movie, image, nameRU, duration, isOnSavedPage, saveMovie, deleteMovie }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const isSaved = movie.owner && movie.owner === currentUser._id;\n\n  const handleSaveBtnClick = () => {\n    if (isSaved) {\n      deleteMovie(movie._id, movie);\n    } else {\n      saveMovie(movie);\n    }\n  }\n\n  const handleDeleteBtnClick = () => {\n    deleteMovie(movie._id, movie);\n  }\n\n  const saveButtonClassName = (\n    `movies-card__button movies-card__button_type_save ${isSaved && 'movies-card__button_type_clicked-save'}`\n  );\n\n  return (\n    <li className=\"movies-card\">\n      <a className=\"movies-card__image-link\" href={movie.trailer} target=\"_blank\" rel=\"noreferrer\">\n          <div className=\"movies-card__image\" style={{ background: `center/cover url(${(isSaved && image) ? image : BASE_URL_MOVIE + image.url}) no-repeat` }}></div>\n        </a>\n      <p className=\"movies-card__title\">{nameRU}</p>\n      {\n        isOnSavedPage ?\n          <button type=\"button\" className=\"movies-card__button movies-card__button_type_delete\"\n            aria-label=\"Удалить фильм.\" onClick={handleDeleteBtnClick}></button> :\n          <button type=\"button\" className={saveButtonClassName} onClick={handleSaveBtnClick} aria-label=\"Сохранить фильм.\"></button>\n      }\n      <p className=\"movies-card__duration\">{convertMinToHours(duration)}</p>\n    </li>\n  );\n};\n\nexport default MoviesCard;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader;\n","import MoviesCard from \"../MoviesCard/MoviesCard\";\nimport Preloader from '../Preloader/Preloader';\n// import { v4 as uuidv4 } from 'uuid';\nimport './MoviesCardList.css';\n\nconst MoviesCardList = ({ movieList, isOnSavedPage, saveMovie, deleteMovie, isFound, isRequestDone,\n  amountToRender, isLoading }) => {\n\n  const moviesCardlistClassName = (\n    `movies-cardlist \n    ${!isRequestDone && 'movies-cardlist_hidden'}`\n  );\n\n  return <>\n    {isLoading && <Preloader />}\n    <ul className={moviesCardlistClassName}>\n      {/* {isLoading && <Preloader />} */}\n      {\n        isFound ? movieList.slice(0, amountToRender).map((movie) => {\n          return <MoviesCard key={movie.nameRU} movie={movie} image={movie.image}\n            nameRU={movie.nameRU} duration={movie.duration} isOnSavedPage={isOnSavedPage}\n            saveMovie={saveMovie} deleteMovie={deleteMovie} />\n        }) : <li className=\"movies-cardlist__not-found-text\">Ничего не найдено</li>\n      }\n    </ul>\n  </>\n\n}\n\nexport default MoviesCardList;","import SearchForm from '../SearchForm/SearchForm';\nimport './Movies.css';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\nconst Movies = ({ movies, handleSearchSubmit, handleTumblerClick, saveMovie, deleteMovie, isFound,\n  isRequestDone, amountToRender, handleMoreBtnClick, isMoreBtnVisible, isLoading, isDisabled }) => {\n\n  const onMoreBtnClick = () => {\n    handleMoreBtnClick(amountToRender);\n  }\n\n  return (\n    <section className=\"movies\">\n      <SearchForm handleSearchSubmit={handleSearchSubmit} handleTumblerClick={handleTumblerClick} isDisabled={isDisabled} />\n      <MoviesCardList movieList={movies} isOnSavedPage={false} saveMovie={saveMovie} deleteMovie={deleteMovie}\n        isFound={isFound} isRequestDone={isRequestDone} amountToRender={amountToRender} isLoading={isLoading} />\n      {isMoreBtnVisible && <button className=\"movies__more-btn\" type=\"button\" onClick={onMoreBtnClick}>Ещё</button>}\n    </section>\n  );\n};\n\nexport default Movies;","import MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport SearchForm from '../SearchForm/SearchForm';\nimport './SavedMovies.css';\n\nconst SavedMovies = ({ movies, handleSearchSubmit, handleTumblerClick, saveMovie, deleteMovie, isFound, isRequestDone, isDisabled }) => {\n  return (\n    <section className=\"saved-movies\">\n      <SearchForm handleSearchSubmit={handleSearchSubmit} handleTumblerClick={handleTumblerClick} isDisabled={isDisabled}/>\n      <MoviesCardList movieList={movies} isOnSavedPage={true} saveMovie={saveMovie} deleteMovie={deleteMovie}\n        isFound={isFound} isRequestDone={isRequestDone} />\n    </section>\n  );\n};\n\nexport default SavedMovies;","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport './Profile.css';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nconst Profile = ({ handleLogout, handleSubmit, isDisabled }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid } = useFormWithValidation({\n    name: currentUser.name,\n    email: currentUser.email\n  });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (isValid) {\n      handleSubmit(values);\n    }\n  }\n  return (\n    <section className=\"profile\">\n      <form className=\"profile__form\" method=\"POST\" onSubmit={onSubmit} noValidate>\n        <h3 className=\"profile__greeting\">Привет, {currentUser.name} !</h3>\n        <div className=\"profile__inputs\">\n          <p className=\"profile__text profile__text_type_name\">Имя</p>\n          <div className=\"profile__area profile__area_type_name\">\n            <input className=\"profile__input profile__input_type_name\" placeholder=\"Имя\" id=\"name-input\"\n              name=\"name\" onChange={handleChange} value={values.name} minLength=\"2\" maxLength=\"30\" required disabled={isDisabled}></input>\n            <span className=\"profile__input-error\" id=\"name-input-error\">\n              {errors && errors[\"name\"] !== \"\" && errors[\"name\"]}\n            </span>\n          </div>\n          <div className=\"profile__area profile__area_type_email\">\n            <input className=\"profile__input profile__input_type_email\" type=\"email\" placeholder=\"Почта\"\n              id=\"email-input\" name=\"email\" onChange={handleChange} value={values.email} required disabled={isDisabled}\n              pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b\"></input>\n            <span className=\"profile__input-error\" id=\"email-input-error\">\n              {errors && errors[\"email\"] !== \"\" && errors[\"email\"]}\n            </span>\n          </div>\n          <p className=\"profile__text profile__text_type_email\">Почта</p>\n        </div>\n        <button type=\"submit\" className=\"profile__button\" disabled={!isValid}>Редактировать</button>\n        <NavLink to=\"/\" className=\"profile__link\" onClick={handleLogout}>Выйти из аккаунта</NavLink>\n      </form>\n    </section>\n  );\n};\n\nexport default Profile;","import { NavLink } from 'react-router-dom';\nimport './AuthForm.css';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nconst AuthForm = ({ greeting, isNameVisible, buttonText, handleSubmit,\n  captionText, route, navLinkText, isDisabled }) => {\n  const { values, handleChange, errors, isValid } = useFormWithValidation({});\n  \n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (isValid) {\n      handleSubmit(values);\n    }\n  }\n\n  return (\n    <form className=\"auth\" method=\"POST\" onSubmit={onSubmit} noValidate>\n      <NavLink to=\"/\" className=\"auth__logo\" />\n      <h3 className=\"auth__greeting\">{greeting}</h3>\n\n      <div className=\"auth__inputs\">\n        {isNameVisible &&\n          <div className=\"auth__name-area\">\n            <label className=\"auth__label\">Имя</label>\n            <input className={`auth__input ${errors && errors[\"name\"] && 'auth__input_type_error'}`} \n            placeholder=\"Имя\" name=\"name\" required id=\"name-input\" minLength=\"2\" maxLength=\"30\"  \n            onChange={handleChange} disabled={isDisabled} />\n            <span className=\"auth__input-error\" id=\"name-input-error\">\n            {errors && errors[\"name\"] && errors[\"name\"]}\n            </span>\n          </div>\n        }\n\n        <label className=\"auth__label\">Email</label>\n        <input className={`auth__input ${errors && errors[\"email\"] && 'auth__input_type_error'}`}\n         placeholder=\"Email\" type=\"email\" name=\"email\" required id=\"email-input\" onChange={handleChange} disabled={isDisabled} \n          pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b\" />\n        <span className=\"auth__input-error\" id=\"email-input-error\">\n          {errors && errors[\"email\"] && errors[\"email\"]}\n        </span>\n\n        <label className=\"auth__label\">Пароль</label>\n        <input className={`auth__input ${errors && errors[\"password\"] && 'auth__input_type_error'}`} placeholder=\"Пароль\" type=\"password\" minLength=\"8\"\n          required name=\"password\" id=\"password-input\" onChange={handleChange} disabled={isDisabled}  />\n        <span className=\"auth__input-error\" id=\"password-input-error\">\n        {errors && errors[\"password\"] && errors[\"password\"]}\n        </span>\n      </div>\n\n      <button className=\"auth__submit-btn\" type=\"submit\" disabled={!isValid}>{buttonText}</button>\n      <p className=\"auth__caption\">{captionText}\n        <NavLink to={route} className=\"auth__link\">{navLinkText}</NavLink>\n      </p>\n    </form>\n  );\n};\n\nexport default AuthForm;","import AuthForm from '../AuthForm/AuthForm';\nimport './Login.css';\n\nconst Login = ({ onLogin, isDisabled }) => {\n  return (\n    <section className=\"login\">\n      <AuthForm\n        greeting=\"Рады видеть!\"\n        isNameVisible={false}\n        buttonText=\"Войти\"\n        handleSubmit={onLogin}\n        captionText=\"Еще не зарегистированы? \"\n        route=\"/signup\"\n        navLinkText=\"Регистрация\"\n        isDisabled={isDisabled}\n      />\n    </section>\n  );\n};\n\nexport default Login;","import AuthForm from '../AuthForm/AuthForm';\nimport './Register.css';\n\nconst Register = ({ onRegister, isDisabled }) => {\n  return(\n    <section className=\"register\">\n      <AuthForm\n      greeting=\"Добро пожаловать!\"\n      isNameVisible={true}\n      buttonText=\"Зарегистрироваться\"\n      handleSubmit={onRegister}\n      captionText=\"Уже зарегистрированы? \"\n      route=\"/signin\"\n      navLinkText=\"Войти\"\n      isDisabled={isDisabled}\n    />\n    </section>\n    \n  );\n};\n\nexport default Register;","import { useHistory } from 'react-router-dom';\nimport './NotFoundPage.css';\n\nconst NotFoundPage = () => {\n  const history = useHistory();\n  const handleGoBack = () => {\n    history.goBack();\n  }\n  return(\n    <section className=\"not-found\">\n      <h1 className=\"not-found__title\">404</h1>\n      <p className=\"not-found__text\">Страница не найдена</p>\n      <button className=\"not-found__link\" onClick={handleGoBack}>Назад</button>\n    </section>\n  );\n}\n\nexport default NotFoundPage;","import './Menu.css';\nimport Navigation from '../Navigation/Navigation';\n\nconst Menu = ({ handleMenuClose, isOpen, handleOnSavedMoviesClick, handleOnMoviesClick, onClick }) => {\n  return (\n    <section className={`menu ${isOpen && 'menu_opened'}`} onClick={onClick}>\n      <div className=\"menu__area\">\n        <button className=\"menu__close-btn\" onClick={handleMenuClose}></button>\n        <Navigation handleOnSavedMoviesClick={handleOnSavedMoviesClick} handleOnMoviesClick={handleOnMoviesClick} />\n      </div>\n    </section>\n  );\n};\n\nexport default Menu;","import './InfoPopup.css';\n\nconst InfoPopup = ({ closePopup, isOpen, message, onClick }) => {\n  return (\n    <section className={`popup ${isOpen && 'popup_opened'}`} onClick={onClick}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-btn\" type=\"button\" onClick={closePopup}></button>\n        <p className=\"popup__message\">{message}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoPopup;","import { BASE_URL_MOVIE } from \"./MoviesApi\";\nimport { defaultProp } from './constants';\n\nclass MainApi {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getMovies(jwt) {\n    return fetch(`${this.baseUrl}/movies`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    }).then((res) => this._getResponseData(res));\n  }\n\n  saveMovie(jwt, movie) {\n    return fetch(`${this.baseUrl}/movies`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        country: movie.country ? movie.country : defaultProp, \n        director: movie.director ? movie.director : defaultProp, \n        duration: movie.duration ? movie.duration : 0, \n        year: movie.year ? movie.year : 0, \n        description: movie.description ? movie.description : defaultProp, \n        image: movie.image.url ? BASE_URL_MOVIE + movie.image.url : movie.image, \n        trailer: movie.trailer ? movie.trailer : movie.trailerLink, \n        nameRU: movie.nameRU ? movie.nameRU : defaultProp, \n        nameEN: movie.nameEN ? movie.nameEN : defaultProp, \n        thumbnail: movie.thumbnail ? movie.thumbnail : BASE_URL_MOVIE + movie.image.formats.thumbnail.url, \n        movieId: movie.id\n      })\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  deleteMovieFromSaved(jwt, movieId) {\n    return fetch(`${this.baseUrl}/movies/${movieId}`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE',\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  toggleMovieSave(jwt, movie, movieId, isSaved) {\n    return isSaved ? this.deleteMovieFromSaved(jwt, movieId) : this.saveMovie(jwt, movie);\n  }\n\n  getUserInfo(jwt) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  updateUserInfo(jwt, email, name) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        email,\n        name\n      })\n    })\n      .then((res) => this._getResponseData(res));\n  }\n};\n\nconst mainApi = new MainApi({\n  baseUrl: \"https://api.annakin.diploma.students.nomoredomains.monster\"\n});\n\nexport default mainApi;","export const BASE_URL = \"https://api.annakin.diploma.students.nomoredomains.monster\";\n\nexport const register = (email, password, name) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n     email, password, name\n    })\n  })\n    .then((res) => {\n      try {\n        if(res.status === 200) {\n          return res.json();\n        }\n      } catch(err) {\n        return err;\n      }\n    })\n    .then((res) => {\n      return res;\n    });\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    })\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    });\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`,{\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    }\n  })\n  .then((res) => res.json())\n  .then((data) => data);\n}","import { Redirect, Route } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.isLoggedIn ?\n          <Component {...props} /> :\n          <Redirect to=\"./signin\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport Menu from '../Menu/Menu';\nimport InfoPopup from '../InfoPopup/InfoPopup';\nimport mainApi from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\nimport * as auth from '../../utils/auth';\nimport { checkIfIsShort, searchMovies } from '../../utils/utils';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport { amountToRender1024, amountToRender1280, amountToRender320, \n  amountToRender768, defaultAmountToRender1024, defaultAmountToRender1280, \n  defaultAmountToRender320, defaultAmountToRender768, failMessage, \n  loginErrorMessage, \n  movieSearchFailedMessage, registerSuccessMessage, updateSuccessMessage } from '../../utils/constants';\n\nfunction App() {\n  const history = useHistory();\n  const location = useLocation();\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isRegisterFailed, setIsRegisterFailed] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [popupMessage, setPopupMessage] = useState('');\n\n  const [beatfilmMovies, setBeatfilmMovies] = useState([]);\n  const [movies, setMovies] = useState([]);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [isFoundInMovies, setIsFoundInMovies] = useState(false);\n  const [isFoundInSavedMovies, setIsFoundInSavedMovies] = useState(false);\n  const [isRequestDone, setIsRequestDone] = useState(false);\n  const [isRequestInSavedDone, setIsRequestInSavedDone] = useState(false);\n  const [amountToRender, setAmountToRender] = useState(0);\n  const [defaultAmountToRender, setDefaultAmountToRender] = useState(0);\n  const [isMoreBtnVisible, setIsMoreBtnVisible] = useState(false);\n  const [isOnSavedPage, setIsOnSavedPage] = useState(false);\n\n  useEffect(() => {\n    // setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    if (isLoggedIn) {\n      setIsLoading(true);\n      Promise.all([\n        mainApi.getMovies(jwt),\n        mainApi.getUserInfo(jwt)\n      ]).then((values) => {\n        const [savedMovies, userInfo] = values;\n        const userSavedMovies = savedMovies.filter((m) => {\n          return m.owner === currentUser._id\n        })\n        localStorage.setItem('savedMovies', JSON.stringify(userSavedMovies));\n        setSavedMovies(userSavedMovies);\n        setCurrentUser(userInfo);\n        if (localStorage.getItem('beatFilmMovies')) {\n          setBeatfilmMovies(JSON.parse(localStorage.getItem('beatFilmMovies')));\n        }\n      })\n        .catch((err) => console.log(err))\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n\n  }, [isLoggedIn, currentUser._id]);\n\n  useEffect(() => {\n    window.addEventListener('resize', checkWidth);\n    return () => window.removeEventListener('resize', checkWidth);\n  }, [])\n\n  // проверка залогиген ли пользователь\n  useEffect(() => {\n    const handleTokenCheck = () => {\n      if (localStorage.getItem('jwt')) {\n        const jwt = localStorage.getItem('jwt');\n        auth.checkToken(jwt)\n          .then((res) => {\n            if (res) {\n              setCurrentUser({ email: res.email, name: res.name, _id: res._id });\n              setIsLoggedIn(true);\n              history.push('/movies');\n            }\n            else {\n              setIsLoggedIn(false);\n              history.push('/');\n            }\n          })\n          .catch((err) => console.log(err));\n      }\n    }\n    handleTokenCheck();\n    // очистка фильмов последнего поиска в хранилище\n    localStorage.removeItem('movies');\n  }, [history]);\n\n  // определение количества карточек для отрисовки в зависимости от ширины экрана\n  const checkWidth = () => {\n    let renderValue = 0;\n    if (window.innerWidth >= 1280) {\n      setDefaultAmountToRender(defaultAmountToRender1280);\n      setAmountToRender(amountToRender1280);\n      renderValue = amountToRender1280;\n    }\n    if (window.innerWidth >= 1024 && window.innerWidth < 1279) {\n      setDefaultAmountToRender(defaultAmountToRender1024);\n      setAmountToRender(amountToRender1024);\n      renderValue = amountToRender1024;\n    }\n    if (window.innerWidth < 1024 && window.innerWidth > 480) {\n      setDefaultAmountToRender(defaultAmountToRender768);\n      setAmountToRender(amountToRender768);\n      renderValue = amountToRender768;\n    }\n    if (window.innerWidth <= 480 && window.innerWidth >= 320) {\n      setDefaultAmountToRender(defaultAmountToRender320);\n      setAmountToRender(amountToRender320);\n      renderValue = amountToRender320;\n    }\n    const localMovies = JSON.parse(localStorage.getItem('movies'));\n    setIsMoreBtnVisible(localMovies && (localMovies.length > renderValue));\n    return { renderValue };\n  }\n\n  // обновление найденных фильмов с учетом сохраненных\n  const updateMovies = (movies, isShortFilm) => {\n    const amount = checkWidth();\n    const moviesWithSavedOnes = movies.map((movie) => {\n      const savedItem = savedMovies.find((m) => m.movieId === movie.id);\n      return savedItem ? savedItem : movie;\n    });\n    localStorage.setItem('movies', JSON.stringify(moviesWithSavedOnes));\n    if (isShortFilm) {\n      const shortFilms = moviesWithSavedOnes.filter(checkIfIsShort);\n      setMovies(shortFilms);\n      setIsMoreBtnVisible(shortFilms.length > amount.renderValue);\n    } else {\n      setMovies(moviesWithSavedOnes);\n    }\n  };\n\n  // поиск фильма среди всех по ключевым словам и фильтр короткометражек\n  const searchPromise = (query) => {\n    return new Promise((resolve, reject) => {\n      if (beatfilmMovies.length === 0) {\n        moviesApi.getBeatFilmMovies()\n          .then((movies) => {\n            localStorage.setItem('beatFilmMovies', JSON.stringify(movies));\n            setBeatfilmMovies(movies);\n            resolve(searchMovies(movies, query));\n          })\n          .catch((err) => {\n            console.log(err);\n            reject(err);\n          });\n      } else {\n        resolve(searchMovies(beatfilmMovies, query));\n      }\n    });\n  }\n\n  // поиск фильма среди сохраненных по ключевым словам и фильтр короткометражек\n  const searchInSavedPromise = (query) => {\n    return new Promise((resolve, reject) => {\n      if (savedMovies) {\n        resolve(searchMovies(savedMovies, query))\n      } else {\n        reject(movieSearchFailedMessage);\n      }\n    });\n  }\n\n  // обработчик поиска по всем фильмам\n  const handleSearchInMovies = (query, isShortFilm) => {\n    setIsLoading(true);\n    searchPromise(query)\n      .then((res) => {\n        if (res && res.length > 0) {\n          setIsFoundInMovies(true);\n          localStorage.setItem('movies', JSON.stringify(res));\n          updateMovies(res, isShortFilm);\n        } else {\n          localStorage.removeItem('movies');\n          setIsFoundInMovies(false);\n          setIsMoreBtnVisible(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        openInfoPopup(movieSearchFailedMessage);\n      })\n      .finally(() => {\n        setIsRequestDone(true);\n        setIsLoading(false);\n      });\n  }\n\n  // обработчик поиска по сохраненным фильмам\n  const handleSearchInSaved = (query, isShortFilm) => {\n    setIsLoading(true);\n    searchInSavedPromise(query, isShortFilm)\n      .then((res) => {\n        if (res && res.length > 0) {\n          setIsFoundInSavedMovies(true);\n          setSavedMovies(res);\n        } else {\n          setIsFoundInSavedMovies(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        openInfoPopup(movieSearchFailedMessage);\n      })\n      .finally(() => {\n        setIsRequestInSavedDone(true);\n        setIsLoading(false);\n      })\n  }\n\n  // поиск по фильмам\n  const handleSearch = (query, isShortFilm) => {\n    isOnSavedPage ? handleSearchInSaved(query, isShortFilm) : handleSearchInMovies(query, isShortFilm);\n  }\n\n  // фильтр короткометражек в фильмах\n  const filterShortFilms = (isChecked) => {\n    const localMovies = JSON.parse(localStorage.getItem('movies'));\n    if (localMovies && localMovies.length > 0) {\n      setIsFoundInMovies(true);\n      updateMovies(localMovies, isChecked);\n    }\n    setIsRequestDone(true);\n  }\n\n  // фильтр короткометражек в сохраненных фильмах\n  const filterShortFilmsInSaved = (isChecked) => {\n    const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    if (localSavedMovies && localSavedMovies.length > 0) {\n      setIsFoundInSavedMovies(true);\n      if (isChecked) {\n        const shortFilms = savedMovies.filter(checkIfIsShort);\n        setSavedMovies(shortFilms);\n      } else {\n        setSavedMovies(localSavedMovies);\n      }\n    }\n    setIsRequestInSavedDone(true);\n  }\n\n  // обработчик переключения тумблера короткометражки\n  const handleTumblerClick = (isChecked) => {\n    if (isRequestDone || isRequestInSavedDone) {\n      isOnSavedPage ? filterShortFilmsInSaved(isChecked) : filterShortFilms(isChecked);\n    }\n  }\n\n  // сохранение фильма в личном кабинете\n  const saveMovie = (movie) => {\n    const jwt = localStorage.getItem('jwt');\n    const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const isSaved = localSavedMovies.some((m) => m.movieId === movie.id);\n    if (!isSaved) {\n      setIsLoading(true);\n      mainApi.saveMovie(jwt, movie)\n        .then((movie) => {\n          setMovies(movies.map((m) => m.id === movie.movieId ? movie : m));\n          const newSavedMovies = [movie, ...localSavedMovies];\n          localStorage.setItem('savedMovies', JSON.stringify(newSavedMovies));\n          setSavedMovies(newSavedMovies);\n        })\n        .catch((err) => console.log(err))\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  }\n\n  // // удаление фильма из сохраненных\n  const deleteMovie = (movieId, movie) => {\n    setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    mainApi.deleteMovieFromSaved(jwt, movieId)\n      .then((deletedMovie) => {\n        const newMovies = localSavedMovies.filter((movie) => movie._id !== deletedMovie._id);\n        localStorage.setItem('savedMovies', JSON.stringify(newMovies));\n        setSavedMovies(newMovies);\n        setMovies(movies.map((movie) => movie._id === movieId ? beatfilmMovies.find((m) => m.id === movie.movieId) : movie));\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  // сброс фильмов после поиска и отображение всех сохраненных фильмов\n  const handleOnSavedMoviesClick = () => {\n    setIsOnSavedPage(true);\n    const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    if (localSavedMovies && localSavedMovies.length > 0) {\n      setIsFoundInSavedMovies(true);\n      setIsRequestInSavedDone(true);\n      setSavedMovies(localSavedMovies);\n    }\n  }\n\n  const handleOnMoviesClick = () => {\n    setIsOnSavedPage(false);\n    const localMovies = JSON.parse(localStorage.getItem('movies'));\n    if (localMovies && localMovies.length > 0) {\n      setIsFoundInMovies(true);\n      setIsRequestDone(true);\n      updateMovies(localMovies, false);\n    }\n  }\n\n  // обработчик клика по кнопке \"Еще\"\n  const handleMoreBtnClick = () => {\n    const newAmount = amountToRender + Math.min((movies.length - amountToRender), defaultAmountToRender);\n    setAmountToRender(newAmount);\n    if (movies.length - newAmount === 0) {\n      setIsMoreBtnVisible(false);\n    }\n  }\n\n  // открытие меню на разрешении ниже 1024px\n  const openMenu = () => {\n    setIsMenuOpen(true);\n    setEscListener();\n  }\n\n  // попап при ошибках в работе api\n  const openInfoPopup = (message) => {\n    setEscListener();\n    setPopupMessage(message);\n    setIsInfoPopupOpen(true);\n  }\n\n  // закрытие меню инфо\n  const closeAllPopups = () => {\n    setIsMenuOpen(false);\n    setIsInfoPopupOpen(false);\n    removeEscListener();\n  }\n\n  //обработчик закрытия по нажатию Esc\n  const handleEscClose = (event) => {\n    if (event.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  //обработчик закрытия попапов при нажатии по фону\n  const handleCLosePopupByClickOnOverlay = (event) => {\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n    closeAllPopups();\n  }\n\n  const setEscListener = () => {\n    document.addEventListener('keydown', handleEscClose);\n  }\n\n  const removeEscListener = () => {\n    document.removeEventListener('keydown', handleEscClose);\n  }\n\n  // авторизация\n  const handleLogin = ({ email, password }) => {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data && data.token) {\n          setCurrentUser({ email: data.email, name: data.name, _id: data._id })\n          setIsLoggedIn(true);\n          history.push('/movies');\n        } else {\n          openInfoPopup(loginErrorMessage);\n          setIsLoggedIn(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err.message);\n        openInfoPopup(failMessage);\n      });\n  }\n\n  // регистрация\n  const handleRegister = ({ email, password, name }) => {\n    auth.register(email, password, name)\n      .then((res) => {\n        if (res) {\n          setIsRegisterFailed(false);\n          openInfoPopup(registerSuccessMessage);\n          handleLogin({email, password});\n        } else {\n          setIsRegisterFailed(true);\n          openInfoPopup(failMessage);\n        }\n      })\n      .catch((err) => {\n        setIsRegisterFailed(true);\n        openInfoPopup(failMessage);\n        console.log(err.message);\n      });\n  }\n\n  // выход из аккаунта\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setCurrentUser({});\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('movies');\n    localStorage.removeItem('savedMovies');\n    localStorage.removeItem('beatFilmMovies');\n    setMovies([]);\n    setIsMoreBtnVisible(false);\n    history.push('/');\n  }\n\n  // обработчик обновления данных пользователя\n  const handleEditProfile = ({ email, name }) => {\n    setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    mainApi.updateUserInfo(jwt, email, name)\n      .then((res) => {\n        if (res) {\n          setCurrentUser({ email: res.email, name: res.name, _id: res._id });\n          openInfoPopup(updateSuccessMessage);\n        }\n      })\n      .catch((err) => {\n        openInfoPopup(failMessage);\n        console.log(err)\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Header pathname={location.pathname} isLoggedIn={isLoggedIn} handleMenuOpen={openMenu}\n          handleOnSavedMoviesClick={handleOnSavedMoviesClick} handleOnMoviesClick={handleOnMoviesClick} />\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <ProtectedRoute path=\"/movies\" component={Movies} isLoggedIn={isLoggedIn} movies={movies}\n            handleSearchSubmit={handleSearch} handleTumblerClick={handleTumblerClick} saveMovie={saveMovie}\n            deleteMovie={deleteMovie} isFound={isFoundInMovies} isRequestDone={isRequestDone} amountToRender={amountToRender}\n            handleMoreBtnClick={handleMoreBtnClick} isMoreBtnVisible={isMoreBtnVisible} isLoading={isLoading} isDisabled={isLoading}/>\n          <ProtectedRoute path=\"/saved-movies\" component={SavedMovies} isLoggedIn={isLoggedIn} movies={savedMovies}\n            handleSearchSubmit={handleSearchInSaved} handleTumblerClick={handleTumblerClick} saveMovie={saveMovie}\n            deleteMovie={deleteMovie} isFound={isFoundInSavedMovies} isRequestDone={isRequestInSavedDone} isLoading={isLoading} \n            isDisabled={isLoading}/>\n          <ProtectedRoute path=\"/profile\" component={Profile} isLoggedIn={isLoggedIn} handleLogout={handleLogout}\n            handleSubmit={handleEditProfile} isLoading={isLoading} isDisabled={isLoading}/>\n          <Route path=\"/signin\">\n            <Login onLogin={handleLogin} isDisabled={isLoading}/>\n          </Route>\n          <Route path=\"/signup\">\n            <Register onRegister={handleRegister} isDisabled={isLoading}/>\n          </Route>\n          <Route path=\"*\">\n            <NotFoundPage />\n          </Route>\n        </Switch>\n\n        <Footer pathname={location.pathname} />\n\n        <Menu handleMenuClose={closeAllPopups} isOpen={isMenuOpen} handleOnSavedMoviesClick={handleOnSavedMoviesClick}\n          handleOnMoviesClick={handleOnMoviesClick} onClick={handleCLosePopupByClickOnOverlay} />\n        <InfoPopup closePopup={closeAllPopups} isOpen={isInfoPopupOpen} isFailed={isRegisterFailed} message={popupMessage}\n          onClick={handleCLosePopupByClickOnOverlay} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}