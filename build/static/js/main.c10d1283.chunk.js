(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(30).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(22),s=n.n(c),o=n(5),r=(n(30),n(24)),l=n(2),d=(n(31),n(32),n(33),n.p+"static/media/accountIcon.8c78cf51.svg"),u=n(0),j=function(e){var t=e.handleOnSavedMoviesClick,n=e.handleOnMoviesClick,i=Object(a.useState)(!1),c=Object(l.a)(i,2),s=c[0],r=c[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1],_=Object(a.useState)(!1),p=Object(l.a)(_,2),f=p[0],v=p[1];return Object(u.jsx)("nav",{className:"nav",children:Object(u.jsxs)("div",{className:"nav__options",children:[Object(u.jsx)(o.b,{to:"/",className:"nav__link nav__link_type_main ".concat(f&&"nav__link_active"),onClick:function(){v(!0),b(!1),r(!1)},children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(u.jsxs)("div",{className:"nav__movies",children:[Object(u.jsx)(o.b,{to:"/movies",className:"nav__link ".concat(s&&"nav__link_active"),onClick:function(){n(),r(!0),b(!1),v(!1)},children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/saved-movies",className:"nav__link ".concat(h&&"nav__link_active"),onClick:function(){t(),b(!0),r(!1),v(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(u.jsxs)(o.b,{to:"/profile",className:"nav__account",children:[Object(u.jsx)("img",{className:"nav__account-img",src:d,alt:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"]})]})})},m=function(e){var t=e.pathname,n=e.isLoggedIn,a=e.handleMenuOpen,i=e.handleOnSavedMoviesClick,c=e.handleOnMoviesClick,s="header \n      ".concat(("/movies"===t||"/saved-movies"===t||"/profile"===t)&&"header_logged-in","\n       ").concat("/"===t&&"header_visible","\n      ");return Object(u.jsx)("header",{className:s,children:Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)(o.b,{to:"/",className:"header__logo"}),n||"/"!==t?Object(u.jsx)("div",{className:"header__nav",children:Object(u.jsx)(j,{handleOnSavedMoviesClick:i,handleOnMoviesClick:c})}):Object(u.jsxs)("nav",{className:"header__options",children:[Object(u.jsx)(o.b,{to:"/signup",className:"header__option header__option_to-register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)(o.b,{to:"/signin",className:"header__option header__option_to-login",children:"\u0412\u043e\u0439\u0442\u0438"})]}),n&&Object(u.jsx)("button",{className:"header__menu-btn",type:"button",onClick:a})]})})},h=(n(40),function(){return Object(u.jsx)("section",{className:"promo",children:Object(u.jsx)("div",{className:"promo__container",children:Object(u.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})})}),b=(n(41),function(){return Object(u.jsx)("section",{className:"navtab",children:Object(u.jsx)("nav",{className:"navtab__container",children:Object(u.jsxs)("ul",{className:"navtab__list",children:[Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{href:"#about-project",className:"navtab__link",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{href:"#techs",className:"navtab__link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{href:"#about-student",className:"navtab__link",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})})}),_=(n(42),n(43),n(44),function(e){return Object(u.jsx)("section",{className:"info info_type_".concat(e.type),children:Object(u.jsxs)("div",{className:"info__container info__container_type_".concat(e.type),children:[Object(u.jsxs)("h2",{className:"info__title",children:[Object(u.jsx)("a",{id:e.linkId,name:e.linkId,className:"info__anchor",children:e.content}),e.title]}),e.children]})})}),p=function(){return Object(u.jsxs)(_,{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",linkId:"about-project",type:"project",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435.",children:[Object(u.jsxs)("ul",{className:"project-info",children:[Object(u.jsx)("li",{className:"project-info__phase",children:Object(u.jsx)("p",{className:"project-info__text project-info__text_type_title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"})}),Object(u.jsx)("li",{className:"project-info__phase-descr",children:Object(u.jsx)("p",{className:"project-info__text project-info__text_type_description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})}),Object(u.jsx)("li",{className:"project-info__timing",children:Object(u.jsx)("p",{className:"project-info__text project-info__text_type_title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"})}),Object(u.jsx)("li",{className:"project-info__timing-descr",children:Object(u.jsx)("p",{className:"project-info__text project-info__text_type_description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0435\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})})]}),Object(u.jsxs)("div",{className:"project-info__scale",children:[Object(u.jsx)("div",{className:"project-info__period",children:Object(u.jsx)("p",{className:"project-info__text",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(u.jsx)("p",{className:"project-info__text project-info__text_type_back",children:"Back-end"}),Object(u.jsx)("div",{className:"project-info__period",children:Object(u.jsx)("p",{className:"project-info__text",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})}),Object(u.jsx)("p",{className:"project-info__text project-info__text_type_front",children:"Front-end"})]})]})},f=(n(45),function(){return Object(u.jsx)(_,{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",linkId:"techs",type:"techs",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445.",children:Object(u.jsxs)("div",{className:"techs",children:[Object(u.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(u.jsxs)("ul",{className:"techs__list",children:[Object(u.jsx)("p",{className:"techs__item",children:"HTML"}),Object(u.jsx)("p",{className:"techs__item",children:"CSS"}),Object(u.jsx)("p",{className:"techs__item",children:"JS"}),Object(u.jsx)("p",{className:"techs__item",children:"React"}),Object(u.jsx)("p",{className:"techs__item",children:"Git"}),Object(u.jsx)("p",{className:"techs__item",children:"Express.js"}),Object(u.jsx)("p",{className:"techs__item",children:"mongoDB"})]})]})})}),v=(n(46),n.p+"static/media/myPhoto.c2719cec.jpg"),O=function(){return Object(u.jsx)(_,{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",linkId:"about-student",type:"student",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0435.",children:Object(u.jsxs)("div",{className:"student-info",children:[Object(u.jsx)("h2",{className:"student-info__title",children:"\u0410\u043d\u043d\u0430"}),Object(u.jsx)("p",{className:"student-info__subtitle",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 29 \u043b\u0435\u0442"}),Object(u.jsx)("p",{className:"student-info__text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0420\u042d\u0423 \u0438\u043c. \u041f\u043b\u0435\u0445\u0430\u043d\u043e\u0432\u0430. \u0412 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043b\u044e\u0431\u043b\u044e \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0439\u043e\u0433\u043e\u0439 \u0438 \u0447\u0438\u0442\u0430\u0442\u044c \u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432\u044b. \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0432 \u0441\u0444\u0435\u0440\u0435 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u0430. \u041d\u043e \u0442\u0443\u0442 \u0432 \u043c\u043e\u0435\u0439 \u0436\u0438\u0437\u043d\u0438 \u043f\u043e\u044f\u0432\u0438\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. \u0414\u043e \u0441\u0438\u0445 \u043f\u043e\u0440 \u0443\u0434\u0438\u0432\u043b\u044f\u044e\u0441\u044c, \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0440\u0430\u043d\u044c\u0448\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u043c-\u0442\u043e \u0434\u0440\u0443\u0433\u0438\u043c. "}),Object(u.jsxs)("ul",{className:"student-info__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"student-info__link",href:"https://www.facebook.com/anna.kozhevatova/",target:"_blank",rel:"noreferrer",children:"Facebook"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"student-info__link",href:"https://github.com/kozhevatova",target:"_blank",rel:"noreferrer",children:"Github"})})]}),Object(u.jsx)("img",{className:"student-info__photo",src:v,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430."})]})})},x=(n(47),function(){return Object(u.jsx)("section",{className:"portfolio",children:Object(u.jsxs)("div",{className:"portfolio__container",children:[Object(u.jsx)("h4",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("ul",{className:"portfolio__links",children:[Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://kozhevatova.github.io/how-to-learn/index.html",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://kozhevatova.github.io/russian-travel/index.html",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://annakin.students.nomoreparties.space",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})})}),g=function(){return Object(u.jsxs)("main",{children:[Object(u.jsx)(h,{}),Object(u.jsx)(b,{}),Object(u.jsx)(p,{}),Object(u.jsx)(f,{}),Object(u.jsx)(O,{}),Object(u.jsx)(x,{})]})},N=(n(48),function(e){var t=e.pathname,n="footer\n    ".concat(("/movies"===t||"/saved-movies"===t||"/profile"===t)&&"footer_visible");return Object(u.jsx)("footer",{className:n,children:Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsx)("p",{className:"footer__caption",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm"}),Object(u.jsxs)("div",{className:"footer__info",children:[Object(u.jsxs)("p",{className:"footer__date",children:["\xa9 ",Object(u.jsx)("span",{id:"year",children:(new Date).getFullYear()})]}),Object(u.jsxs)("ul",{className:"footer__links",children:[Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://github.com/kozhevatova",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/anna.kozhevatova/",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})]})]})})}),k=n(13),S=n(10);function y(e){var t=i.a.useState(e),n=Object(l.a)(t,2),c=n[0],s=n[1],o=i.a.useState({}),r=Object(l.a)(o,2),d=r[0],u=r[1],j=i.a.useState(!1),m=Object(l.a)(j,2),h=m[0],b=m[1],_=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(e),u(t),b(n)}),[s,u,b]);return{values:c,handleChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(S.a)(Object(S.a)({},c),{},Object(k.a)({},n,a))),u(Object(S.a)(Object(S.a)({},d),{},Object(k.a)({},n,t.validationMessage))),b(t.closest("form").checkValidity())},errors:d,isValid:h,resetForm:_}}n(49);var C=function(e){var t=e.handleSearchSubmit,n=e.handleTumblerClick,i=e.isDisabled,c=y({}),s=c.values,o=c.handleChange,r=c.errors,d=c.isValid,j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1];return Object(u.jsxs)("div",{className:"search",children:[Object(u.jsxs)("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),d&&t(s.movie,h)},noValidate:!0,children:[Object(u.jsx)("input",{className:"search__input ".concat(r&&r.movie&&"search__input_type_error"),placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0,onChange:o,name:"movie",type:"text",disabled:i}),Object(u.jsx)("span",{className:"search__input-error",children:r&&r.movie&&r.movie}),Object(u.jsx)("button",{type:"submit",className:"search__button",disabled:!d,children:"\u041f\u043e\u0438\u0441\u043a"})]}),Object(u.jsxs)("label",{className:"search__tumbler",children:[Object(u.jsx)("input",{type:"checkbox",name:"shortFilmCheckbox",className:"search__checkbox",checked:h,onChange:function(e){b(e.target.checked),n(e.target.checked,s.movie)},disabled:i}),Object(u.jsx)("span",{className:"search__slider"}),Object(u.jsx)("span",{className:"search__label-text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})},M=(n(50),"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."),w="\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",I="default",L=function(e,t){return e.nameRU.toLowerCase().replaceAll(/["\xab\xbb]/g,"").split(" ").includes(t.toLowerCase())||e.nameEN&&e.nameEN.toLowerCase().replaceAll(/["\xab\xbb]/g,"").split(" ").includes(t.toLowerCase())},T=function(e){return e.duration<=40},D=function(e,t){var n=t.toLowerCase().trim().split(" ");return e.filter((function(e){for(var t=0;t<n.length;t++)if(!L(e,n[t]))return!1;return!0}))},R=n(15),F=n(16),z="https://api.nomoreparties.co",U=new(function(){function e(t){Object(R.a)(this,e),this.baseUrl=t.baseUrl}return Object(F.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getBeatFilmMovies",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/beatfilm-movies"),{headers:{"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}}]),e}())({baseUrl:z}),E=(n(51),i.a.createContext()),P=function(e){var t,n=e.movie,i=e.image,c=e.nameRU,s=e.duration,o=e.isOnSavedPage,r=e.saveMovie,l=e.deleteMovie,d=Object(a.useContext)(E),j=n.owner&&n.owner===d._id,m="movies-card__button movies-card__button_type_save ".concat(j&&"movies-card__button_type_clicked-save");return Object(u.jsxs)("li",{className:"movies-card",children:[Object(u.jsx)("a",{className:"movies-card__image-link",href:n.trailer,target:"_blank",rel:"noreferrer",children:Object(u.jsx)("div",{className:"movies-card__image",style:{background:"center/cover url(".concat(j&&i?i:z+i.url,") no-repeat")}})}),Object(u.jsx)("p",{className:"movies-card__title",children:c}),o?Object(u.jsx)("button",{type:"button",className:"movies-card__button movies-card__button_type_delete","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c.",onClick:function(){l(n._id,n)}}):Object(u.jsx)("button",{type:"button",className:m,onClick:function(){j?l(n._id,n):r(n)},"aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c."}),Object(u.jsx)("p",{className:"movies-card__duration",children:(t=s,"".concat(Math.floor(t/60),"\u0447").concat(t%60,"\u043c"))})]})},J=(n(52),function(){return Object(u.jsx)("div",{className:"preloader",children:Object(u.jsx)("div",{className:"preloader__container",children:Object(u.jsx)("span",{className:"preloader__round"})})})}),B=(n(53),function(e){var t=e.movieList,n=e.isOnSavedPage,a=e.saveMovie,i=e.deleteMovie,c=e.isFound,s=e.isRequestDone,o=e.amountToRender,r=e.isLoading,l="movies-cardlist \n    ".concat(!s&&"movies-cardlist_hidden");return Object(u.jsxs)(u.Fragment,{children:[r&&Object(u.jsx)(J,{}),Object(u.jsx)("ul",{className:l,children:c?t.slice(0,o).map((function(e){return Object(u.jsx)(P,{movie:e,image:e.image,nameRU:e.nameRU,duration:e.duration,isOnSavedPage:n,saveMovie:a,deleteMovie:i},e.nameRU)})):Object(u.jsx)("li",{className:"movies-cardlist__not-found-text",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})}),V=function(e){var t=e.movies,n=e.handleSearchSubmit,a=e.handleTumblerClick,i=e.saveMovie,c=e.deleteMovie,s=e.isFound,o=e.isRequestDone,r=e.amountToRender,l=e.handleMoreBtnClick,d=e.isMoreBtnVisible,j=e.isLoading,m=e.isDisabled;return Object(u.jsxs)("section",{className:"movies",children:[Object(u.jsx)(C,{handleSearchSubmit:n,handleTumblerClick:a,isDisabled:m}),Object(u.jsx)(B,{movieList:t,isOnSavedPage:!1,saveMovie:i,deleteMovie:c,isFound:s,isRequestDone:o,amountToRender:r,isLoading:j}),d&&Object(u.jsx)("button",{className:"movies__more-btn",type:"button",onClick:function(){l(r)},children:"\u0415\u0449\u0451"})]})},q=(n(54),function(e){var t=e.movies,n=e.handleSearchSubmit,a=e.handleTumblerClick,i=e.saveMovie,c=e.deleteMovie,s=e.isFound,o=e.isRequestDone,r=e.isDisabled;return Object(u.jsxs)("section",{className:"saved-movies",children:[Object(u.jsx)(C,{handleSearchSubmit:n,handleTumblerClick:a,isDisabled:r}),Object(u.jsx)(B,{movieList:t,isOnSavedPage:!0,saveMovie:i,deleteMovie:c,isFound:s,isRequestDone:o})]})}),A=n(3),W=(n(55),function(e){var t=e.handleLogout,n=e.handleSubmit,i=e.isDisabled,c=Object(a.useContext)(E),s=y({name:c.name,email:c.email}),r=s.values,l=s.handleChange,d=s.errors,j=s.isValid;return Object(u.jsx)("section",{className:"profile",children:Object(u.jsxs)("form",{className:"profile__form",method:"POST",onSubmit:function(e){e.preventDefault(),j&&n(r)},noValidate:!0,children:[Object(u.jsxs)("h3",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",c.name," !"]}),Object(u.jsxs)("div",{className:"profile__inputs",children:[Object(u.jsx)("p",{className:"profile__text profile__text_type_name",children:"\u0418\u043c\u044f"}),Object(u.jsxs)("div",{className:"profile__area profile__area_type_name",children:[Object(u.jsx)("input",{className:"profile__input profile__input_type_name",placeholder:"\u0418\u043c\u044f",id:"name-input",name:"name",onChange:l,value:r.name,minLength:"2",maxLength:"30",required:!0,disabled:i}),Object(u.jsx)("span",{className:"profile__input-error",id:"name-input-error",children:d&&""!==d.name&&d.name})]}),Object(u.jsxs)("div",{className:"profile__area profile__area_type_email",children:[Object(u.jsx)("input",{className:"profile__input profile__input_type_email",type:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",id:"email-input",name:"email",onChange:l,value:r.email,required:!0,disabled:i,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(u.jsx)("span",{className:"profile__input-error",id:"email-input-error",children:d&&""!==d.email&&d.email})]}),Object(u.jsx)("p",{className:"profile__text profile__text_type_email",children:"\u041f\u043e\u0447\u0442\u0430"})]}),Object(u.jsx)("button",{type:"submit",className:"profile__button",disabled:!j,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)(o.b,{to:"/",className:"profile__link",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})}),G=(n(56),function(e){var t=e.greeting,n=e.isNameVisible,a=e.buttonText,i=e.handleSubmit,c=e.captionText,s=e.route,r=e.navLinkText,l=e.isDisabled,d=y({}),j=d.values,m=d.handleChange,h=d.errors,b=d.isValid;return Object(u.jsxs)("form",{className:"auth",method:"POST",onSubmit:function(e){e.preventDefault(),b&&i(j)},noValidate:!0,children:[Object(u.jsx)(o.b,{to:"/",className:"auth__logo"}),Object(u.jsx)("h3",{className:"auth__greeting",children:t}),Object(u.jsxs)("div",{className:"auth__inputs",children:[n&&Object(u.jsxs)("div",{className:"auth__name-area",children:[Object(u.jsx)("label",{className:"auth__label",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{className:"auth__input ".concat(h&&h.name&&"auth__input_type_error"),placeholder:"\u0418\u043c\u044f",name:"name",required:!0,id:"name-input",minLength:"2",maxLength:"30",onChange:m,disabled:l}),Object(u.jsx)("span",{className:"auth__input-error",id:"name-input-error",children:h&&h.name&&h.name})]}),Object(u.jsx)("label",{className:"auth__label",children:"Email"}),Object(u.jsx)("input",{className:"auth__input ".concat(h&&h.email&&"auth__input_type_error"),placeholder:"Email",type:"email",name:"email",required:!0,id:"email-input",onChange:m,disabled:l,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(u.jsx)("span",{className:"auth__input-error",id:"email-input-error",children:h&&h.email&&h.email}),Object(u.jsx)("label",{className:"auth__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"auth__input ".concat(h&&h.password&&"auth__input_type_error"),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",minLength:"8",required:!0,name:"password",id:"password-input",onChange:m,disabled:l}),Object(u.jsx)("span",{className:"auth__input-error",id:"password-input-error",children:h&&h.password&&h.password})]}),Object(u.jsx)("button",{className:"auth__submit-btn",type:"submit",disabled:!b,children:a}),Object(u.jsxs)("p",{className:"auth__caption",children:[c,Object(u.jsx)(o.b,{to:s,className:"auth__link",children:r})]})]})}),$=(n(57),function(e){var t=e.onLogin,n=e.isDisabled;return Object(u.jsx)("section",{className:"login",children:Object(u.jsx)(G,{greeting:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",isNameVisible:!1,buttonText:"\u0412\u043e\u0439\u0442\u0438",handleSubmit:t,captionText:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",route:"/signup",navLinkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isDisabled:n})})}),H=(n(58),function(e){var t=e.onRegister,n=e.isDisabled;return Object(u.jsx)("section",{className:"register",children:Object(u.jsx)(G,{greeting:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",isNameVisible:!0,buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",handleSubmit:t,captionText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",route:"/signin",navLinkText:"\u0412\u043e\u0439\u0442\u0438",isDisabled:n})})}),Y=(n(59),function(){var e=Object(A.g)();return Object(u.jsxs)("section",{className:"not-found",children:[Object(u.jsx)("h1",{className:"not-found__title",children:"404"}),Object(u.jsx)("p",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(u.jsx)("button",{className:"not-found__link",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})}),K=(n(60),function(e){var t=e.handleMenuClose,n=e.isOpen,a=e.handleOnSavedMoviesClick,i=e.handleOnMoviesClick,c=e.onClick;return Object(u.jsx)("section",{className:"menu ".concat(n&&"menu_opened"),onClick:c,children:Object(u.jsxs)("div",{className:"menu__area",children:[Object(u.jsx)("button",{className:"menu__close-btn",onClick:t}),Object(u.jsx)(j,{handleOnSavedMoviesClick:a,handleOnMoviesClick:i})]})})}),Q=(n(61),function(e){var t=e.closePopup,n=e.isOpen,a=e.message,i=e.onClick;return Object(u.jsx)("section",{className:"popup ".concat(n&&"popup_opened"),onClick:i,children:Object(u.jsxs)("div",{className:"popup__container",children:[Object(u.jsx)("button",{className:"popup__close-btn",type:"button",onClick:t}),Object(u.jsx)("p",{className:"popup__message",children:a})]})})}),X=new(function(){function e(t){Object(R.a)(this,e),this.baseUrl=t.baseUrl}return Object(F.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getMovies",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"saveMovie",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"POST",body:JSON.stringify({country:t.country?t.country:I,director:t.director?t.director:I,duration:t.duration?t.duration:0,year:t.year?t.year:0,description:t.description?t.description:I,image:t.image.url?z+t.image.url:t.image,trailer:t.trailer?t.trailer:t.trailerLink,nameRU:t.nameRU?t.nameRU:I,nameEN:t.nameEN?t.nameEN:I,thumbnail:t.thumbnail?t.thumbnail:z+t.image.formats.thumbnail.url,movieId:t.id})}).then((function(e){return n._getResponseData(e)}))}},{key:"deleteMovieFromSaved",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/movies/").concat(t),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"DELETE"}).then((function(e){return n._getResponseData(e)}))}},{key:"toggleMovieSave",value:function(e,t,n,a){return a?this.deleteMovieFromSaved(e,n):this.saveMovie(e,t)}},{key:"getUserInfo",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"updateUserInfo",value:function(e,t,n){var a=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({email:t,name:n})}).then((function(e){return a._getResponseData(e)}))}}]),e}())({baseUrl:"https://api.annakin.diploma.students.nomoredomains.monster"}),Z="https://api.annakin.diploma.students.nomoredomains.monster",ee=n(25),te=function(e){var t=e.component,n=Object(ee.a)(e,["component"]);return Object(u.jsx)(A.b,{children:function(){return n.isLoggedIn?Object(u.jsx)(t,Object(S.a)({},n)):Object(u.jsx)(A.a,{to:"./signin"})}})};var ne=function(){var e=Object(A.g)(),t=Object(A.h)(),n=Object(a.useState)({}),i=Object(l.a)(n,2),c=i[0],s=i[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),j=d[0],h=d[1],b=Object(a.useState)(!1),_=Object(l.a)(b,2),p=_[0],f=_[1],v=Object(a.useState)(!1),O=Object(l.a)(v,2),x=O[0],k=O[1],S=Object(a.useState)(!1),y=Object(l.a)(S,2),C=y[0],I=y[1],L=Object(a.useState)(!1),R=Object(l.a)(L,2),F=R[0],z=R[1],P=Object(a.useState)(""),J=Object(l.a)(P,2),B=J[0],G=J[1],ee=Object(a.useState)([]),ne=Object(l.a)(ee,2),ae=ne[0],ie=ne[1],ce=Object(a.useState)([]),se=Object(l.a)(ce,2),oe=se[0],re=se[1],le=Object(a.useState)([]),de=Object(l.a)(le,2),ue=de[0],je=de[1],me=Object(a.useState)(!1),he=Object(l.a)(me,2),be=he[0],_e=he[1],pe=Object(a.useState)(!1),fe=Object(l.a)(pe,2),ve=fe[0],Oe=fe[1],xe=Object(a.useState)(!1),ge=Object(l.a)(xe,2),Ne=ge[0],ke=ge[1],Se=Object(a.useState)(!1),ye=Object(l.a)(Se,2),Ce=ye[0],Me=ye[1],we=Object(a.useState)(0),Ie=Object(l.a)(we,2),Le=Ie[0],Te=Ie[1],De=Object(a.useState)(0),Re=Object(l.a)(De,2),Fe=Re[0],ze=Re[1],Ue=Object(a.useState)(!1),Ee=Object(l.a)(Ue,2),Pe=Ee[0],Je=Ee[1],Be=Object(a.useState)(!1),Ve=Object(l.a)(Be,2),qe=Ve[0],Ae=Ve[1];Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");j&&(z(!0),Promise.all([X.getMovies(e),X.getUserInfo(e)]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1],i=n.filter((function(e){return e.owner===c._id}));localStorage.setItem("savedMovies",JSON.stringify(i)),je(i),s(a),localStorage.getItem("beatFilmMovies")&&ie(JSON.parse(localStorage.getItem("beatFilmMovies")))})).catch((function(e){return console.log(e)})).finally((function(){z(!1)})))}),[j,c._id]),Object(a.useEffect)((function(){return window.addEventListener("resize",We),function(){return window.removeEventListener("resize",We)}}),[]),Object(a.useEffect)((function(){!function(){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");(n=t,fetch("".concat(Z,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(t){t?(s({email:t.email,name:t.name,_id:t._id}),h(!0),e.push("/movies")):(h(!1),e.push("/"))})).catch((function(e){return console.log(e)}))}var n}(),localStorage.removeItem("movies")}),[e]);var We=function(){var e=0;window.innerWidth>=1280&&(ze(3),Te(12),e=12),window.innerWidth>=1024&&window.innerWidth<1279&&(ze(3),Te(9),e=9),window.innerWidth<1024&&window.innerWidth>480&&(ze(2),Te(8),e=8),window.innerWidth<=480&&window.innerWidth>=320&&(ze(2),Te(5),e=5);var t=JSON.parse(localStorage.getItem("movies"));return Je(t&&t.length>e),{renderValue:e}},Ge=function(e,t){var n=We(),a=e.map((function(e){var t=ue.find((function(t){return t.movieId===e.id}));return t||e}));if(localStorage.setItem("movies",JSON.stringify(a)),t){var i=a.filter(T);re(i),Je(i.length>n.renderValue)}else re(a)},$e=function(e,t){z(!0),function(e){return new Promise((function(t,n){0===ae.length?U.getBeatFilmMovies().then((function(n){localStorage.setItem("beatFilmMovies",JSON.stringify(n)),ie(n),t(D(n,e))})).catch((function(e){console.log(e),n(e)})):t(D(ae,e))}))}(e).then((function(e){e&&e.length>0?(_e(!0),localStorage.setItem("movies",JSON.stringify(e)),Ge(e,t)):(localStorage.removeItem("movies"),_e(!1),Je(!1))})).catch((function(e){console.log(e),et(w)})).finally((function(){ke(!0),z(!1)}))},He=function(e,t){z(!0),function(e){return new Promise((function(t,n){ue?t(D(ue,e)):n(w)}))}(e).then((function(e){e&&e.length>0?(Oe(!0),je(e)):Oe(!1)})).catch((function(e){console.log(e),et(w)})).finally((function(){Me(!0),z(!1)}))},Ye=function(e){(Ne||Ce)&&(qe?function(e){var t=JSON.parse(localStorage.getItem("savedMovies"));if(t&&t.length>0)if(Oe(!0),e){var n=ue.filter(T);je(n)}else je(t);Me(!0)}(e):function(e){var t=JSON.parse(localStorage.getItem("movies"));t&&t.length>0&&(_e(!0),Ge(t,e)),ke(!0)}(e))},Ke=function(e){var t=localStorage.getItem("jwt"),n=JSON.parse(localStorage.getItem("savedMovies"));n.some((function(t){return t.movieId===e.id}))||(z(!0),X.saveMovie(t,e).then((function(e){re(oe.map((function(t){return t.id===e.movieId?e:t})));var t=[e].concat(Object(r.a)(n));localStorage.setItem("savedMovies",JSON.stringify(t)),je(t)})).catch((function(e){return console.log(e)})).finally((function(){z(!1)})))},Qe=function(e,t){z(!0);var n=localStorage.getItem("jwt"),a=JSON.parse(localStorage.getItem("savedMovies"));X.deleteMovieFromSaved(n,e).then((function(t){var n=a.filter((function(e){return e._id!==t._id}));localStorage.setItem("savedMovies",JSON.stringify(n)),je(n),re(oe.map((function(t){return t._id===e?ae.find((function(e){return e.id===t.movieId})):t})))})).catch((function(e){return console.log(e)})).finally((function(){z(!1)}))},Xe=function(){Ae(!0);var e=JSON.parse(localStorage.getItem("savedMovies"));e&&e.length>0&&(Oe(!0),Me(!0),je(e))},Ze=function(){Ae(!1);var e=JSON.parse(localStorage.getItem("movies"));e&&e.length>0&&(_e(!0),ke(!0),Ge(e,!1))},et=function(e){it(),G(e),I(!0)},tt=function(){k(!1),I(!1),ct()},nt=function(e){"Escape"===e.key&&tt()},at=function(e){e.target===e.currentTarget&&tt()},it=function(){document.addEventListener("keydown",nt)},ct=function(){document.removeEventListener("keydown",nt)},st=function(t){(function(e,t){return fetch("".concat(Z,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))})(t.email,t.password).then((function(t){t&&t.token?(s({email:t.email,name:t.name,_id:t._id}),h(!0),e.push("/movies")):(et("\u041f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"),h(!1))})).catch((function(e){console.log(e.message),et(M)}))};return Object(u.jsx)(E.Provider,{value:c,children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{pathname:t.pathname,isLoggedIn:j,handleMenuOpen:function(){k(!0),it()},handleOnSavedMoviesClick:Xe,handleOnMoviesClick:Ze}),Object(u.jsxs)(A.d,{children:[Object(u.jsx)(A.b,{exact:!0,path:"/",children:Object(u.jsx)(g,{})}),Object(u.jsx)(te,{path:"/movies",component:V,isLoggedIn:j,movies:oe,handleSearchSubmit:function(e,t){qe?He(e):$e(e,t)},handleTumblerClick:Ye,saveMovie:Ke,deleteMovie:Qe,isFound:be,isRequestDone:Ne,amountToRender:Le,handleMoreBtnClick:function(){var e=Le+Math.min(oe.length-Le,Fe);Te(e),oe.length-e===0&&Je(!1)},isMoreBtnVisible:Pe,isLoading:F,isDisabled:F}),Object(u.jsx)(te,{path:"/saved-movies",component:q,isLoggedIn:j,movies:ue,handleSearchSubmit:He,handleTumblerClick:Ye,saveMovie:Ke,deleteMovie:Qe,isFound:ve,isRequestDone:Ce,isLoading:F,isDisabled:F}),Object(u.jsx)(te,{path:"/profile",component:W,isLoggedIn:j,handleLogout:function(){h(!1),s({}),localStorage.removeItem("jwt"),localStorage.removeItem("movies"),localStorage.removeItem("savedMovies"),localStorage.removeItem("beatFilmMovies"),re([]),Je(!1),e.push("/")},handleSubmit:function(e){var t=e.email,n=e.name;z(!0);var a=localStorage.getItem("jwt");X.updateUserInfo(a,t,n).then((function(e){e&&(s({email:e.email,name:e.name,_id:e._id}),et("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"))})).catch((function(e){et(M),console.log(e)})).finally((function(){z(!1)}))},isLoading:F,isDisabled:F}),Object(u.jsx)(A.b,{path:"/signin",children:Object(u.jsx)($,{onLogin:st,isDisabled:F})}),Object(u.jsx)(A.b,{path:"/signup",children:Object(u.jsx)(H,{onRegister:function(e){var t=e.email,n=e.password,a=e.name;(function(e,t,n){return fetch("".concat(Z,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then((function(e){try{if(200===e.status)return e.json()}catch(t){return t}})).then((function(e){return e}))})(t,n,a).then((function(e){e?(f(!1),et("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"),st({email:t,password:n})):(f(!0),et(M))})).catch((function(e){f(!0),et(M),console.log(e.message)}))},isDisabled:F})}),Object(u.jsx)(A.b,{path:"*",children:Object(u.jsx)(Y,{})})]}),Object(u.jsx)(N,{pathname:t.pathname}),Object(u.jsx)(K,{handleMenuClose:tt,isOpen:x,handleOnSavedMoviesClick:Xe,handleOnMoviesClick:Ze,onClick:at}),Object(u.jsx)(Q,{closePopup:tt,isOpen:C,isFailed:p,message:B,onClick:at})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(ne,{})})}),document.getElementById("root")),ae()}]),[[62,1,2]]]);
//# sourceMappingURL=main.c10d1283.chunk.js.map