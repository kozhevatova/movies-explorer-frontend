(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(30).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(22),s=n.n(c),o=n(5),r=(n(30),n(24)),l=n(2),u=(n(31),n(32),n(33),n.p+"static/media/accountIcon.8c78cf51.svg"),d=n(0),j=function(e){var t=e.handleOnSavedMoviesClick,n=e.handleOnMoviesClick,i=Object(a.useState)(!1),c=Object(l.a)(i,2),s=c[0],r=c[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1],_=Object(a.useState)(!1),p=Object(l.a)(_,2),f=p[0],v=p[1];return Object(d.jsx)("nav",{className:"nav",children:Object(d.jsxs)("div",{className:"nav__options",children:[Object(d.jsx)(o.b,{to:"/",className:"nav__link nav__link_type_main ".concat(f&&"nav__link_active"),onClick:function(){v(!0),b(!1),r(!1)},children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsxs)("div",{className:"nav__movies",children:[Object(d.jsx)(o.b,{to:"/movies",className:"nav__link ".concat(s&&"nav__link_active"),onClick:function(){n(),r(!0),b(!1),v(!1)},children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/saved-movies",className:"nav__link ".concat(h&&"nav__link_active"),onClick:function(){t(),b(!0),r(!1),v(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(d.jsxs)(o.b,{to:"/profile",className:"nav__account",children:[Object(d.jsx)("img",{className:"nav__account-img",src:u,alt:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"]})]})})},m=function(e){var t=e.pathname,n=e.isLoggedIn,a=e.handleMenuOpen,i=e.handleOnSavedMoviesClick,c=e.handleOnMoviesClick,s="header \n      ".concat(("/movies"===t||"/saved-movies"===t||"/profile"===t)&&"header_logged-in","\n       ").concat("/"===t&&"header_visible","\n      ");return Object(d.jsx)("header",{className:s,children:Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)(o.b,{to:"/",className:"header__logo"}),n||"/"!==t?Object(d.jsx)("div",{className:"header__nav",children:Object(d.jsx)(j,{handleOnSavedMoviesClick:i,handleOnMoviesClick:c})}):Object(d.jsxs)("nav",{className:"header__options",children:[Object(d.jsx)(o.b,{to:"/signup",className:"header__option header__option_to-register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(o.b,{to:"/signin",className:"header__option header__option_to-login",children:"\u0412\u043e\u0439\u0442\u0438"})]}),n&&Object(d.jsx)("button",{className:"header__menu-btn",type:"button",onClick:a})]})})},h=(n(40),function(){return Object(d.jsx)("section",{className:"promo",children:Object(d.jsx)("div",{className:"promo__container",children:Object(d.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})})}),b=(n(41),function(){return Object(d.jsx)("section",{className:"navtab",children:Object(d.jsx)("nav",{className:"navtab__container",children:Object(d.jsxs)("ul",{className:"navtab__list",children:[Object(d.jsx)("li",{className:"navtab__item",children:Object(d.jsx)("a",{href:"#about-project",className:"navtab__link",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(d.jsx)("li",{className:"navtab__item",children:Object(d.jsx)("a",{href:"#techs",className:"navtab__link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(d.jsx)("li",{className:"navtab__item",children:Object(d.jsx)("a",{href:"#about-student",className:"navtab__link",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})})}),_=(n(42),n(43),n(44),function(e){return Object(d.jsx)("section",{className:"info info_type_".concat(e.type),children:Object(d.jsxs)("div",{className:"info__container info__container_type_".concat(e.type),children:[Object(d.jsxs)("h2",{className:"info__title",children:[Object(d.jsx)("a",{id:e.linkId,name:e.linkId,className:"info__anchor",children:e.content}),e.title]}),e.children]})})}),p=function(){return Object(d.jsxs)(_,{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",linkId:"about-project",type:"project",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435.",children:[Object(d.jsxs)("ul",{className:"project-info",children:[Object(d.jsx)("li",{className:"project-info__phase",children:Object(d.jsx)("p",{className:"project-info__text project-info__text_type_title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"})}),Object(d.jsx)("li",{className:"project-info__phase-descr",children:Object(d.jsx)("p",{className:"project-info__text project-info__text_type_description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})}),Object(d.jsx)("li",{className:"project-info__timing",children:Object(d.jsx)("p",{className:"project-info__text project-info__text_type_title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"})}),Object(d.jsx)("li",{className:"project-info__timing-descr",children:Object(d.jsx)("p",{className:"project-info__text project-info__text_type_description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0435\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})})]}),Object(d.jsxs)("div",{className:"project-info__scale",children:[Object(d.jsx)("div",{className:"project-info__period",children:Object(d.jsx)("p",{className:"project-info__text",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(d.jsx)("p",{className:"project-info__text project-info__text_type_back",children:"Back-end"}),Object(d.jsx)("div",{className:"project-info__period",children:Object(d.jsx)("p",{className:"project-info__text",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})}),Object(d.jsx)("p",{className:"project-info__text project-info__text_type_front",children:"Front-end"})]})]})},f=(n(45),function(){return Object(d.jsx)(_,{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",linkId:"techs",type:"techs",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445.",children:Object(d.jsxs)("div",{className:"techs",children:[Object(d.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsxs)("ul",{className:"techs__list",children:[Object(d.jsx)("p",{className:"techs__item",children:"HTML"}),Object(d.jsx)("p",{className:"techs__item",children:"CSS"}),Object(d.jsx)("p",{className:"techs__item",children:"JS"}),Object(d.jsx)("p",{className:"techs__item",children:"React"}),Object(d.jsx)("p",{className:"techs__item",children:"Git"}),Object(d.jsx)("p",{className:"techs__item",children:"Express.js"}),Object(d.jsx)("p",{className:"techs__item",children:"mongoDB"})]})]})})}),v=(n(46),n.p+"static/media/myPhoto.c2719cec.jpg"),O=function(){return Object(d.jsx)(_,{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",linkId:"about-student",type:"student",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0435.",children:Object(d.jsxs)("div",{className:"student-info",children:[Object(d.jsx)("h2",{className:"student-info__title",children:"\u0410\u043d\u043d\u0430"}),Object(d.jsx)("p",{className:"student-info__subtitle",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 29 \u043b\u0435\u0442"}),Object(d.jsx)("p",{className:"student-info__text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0420\u042d\u0423 \u0438\u043c. \u041f\u043b\u0435\u0445\u0430\u043d\u043e\u0432\u0430. \u0412 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043b\u044e\u0431\u043b\u044e \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0439\u043e\u0433\u043e\u0439 \u0438 \u0447\u0438\u0442\u0430\u0442\u044c \u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432\u044b. \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0432 \u0441\u0444\u0435\u0440\u0435 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u0430. \u041d\u043e \u0442\u0443\u0442 \u0432 \u043c\u043e\u0435\u0439 \u0436\u0438\u0437\u043d\u0438 \u043f\u043e\u044f\u0432\u0438\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. \u0414\u043e \u0441\u0438\u0445 \u043f\u043e\u0440 \u0443\u0434\u0438\u0432\u043b\u044f\u044e\u0441\u044c, \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0440\u0430\u043d\u044c\u0448\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u043c-\u0442\u043e \u0434\u0440\u0443\u0433\u0438\u043c. "}),Object(d.jsxs)("ul",{className:"student-info__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"student-info__link",href:"https://www.facebook.com/anna.kozhevatova/",target:"_blank",rel:"noreferrer",children:"Facebook"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"student-info__link",href:"https://github.com/kozhevatova",target:"_blank",rel:"noreferrer",children:"Github"})})]}),Object(d.jsx)("img",{className:"student-info__photo",src:v,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430."})]})})},x=(n(47),function(){return Object(d.jsx)("section",{className:"portfolio",children:Object(d.jsxs)("div",{className:"portfolio__container",children:[Object(d.jsx)("h4",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)("ul",{className:"portfolio__links",children:[Object(d.jsx)("li",{className:"portfolio__item",children:Object(d.jsx)("a",{className:"portfolio__link",href:"https://kozhevatova.github.io/how-to-learn/index.html",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(d.jsx)("li",{className:"portfolio__item",children:Object(d.jsx)("a",{className:"portfolio__link",href:"https://kozhevatova.github.io/russian-travel/index.html",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(d.jsx)("li",{className:"portfolio__item",children:Object(d.jsx)("a",{className:"portfolio__link",href:"https://annakin.students.nomoreparties.space",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})})}),g=function(){return Object(d.jsxs)("main",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(b,{}),Object(d.jsx)(p,{}),Object(d.jsx)(f,{}),Object(d.jsx)(O,{}),Object(d.jsx)(x,{})]})},N=(n(48),function(e){var t=e.pathname,n="footer\n    ".concat(("/movies"===t||"/saved-movies"===t||"/profile"===t)&&"footer_visible");return Object(d.jsx)("footer",{className:n,children:Object(d.jsxs)("div",{className:"footer__container",children:[Object(d.jsx)("p",{className:"footer__caption",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm"}),Object(d.jsxs)("div",{className:"footer__info",children:[Object(d.jsxs)("p",{className:"footer__date",children:["\xa9 ",Object(d.jsx)("span",{id:"year",children:(new Date).getFullYear()})]}),Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://github.com/kozhevatova",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/anna.kozhevatova/",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})]})]})})}),k=n(13),S=n(10);function y(e){var t=i.a.useState(e),n=Object(l.a)(t,2),c=n[0],s=n[1],o=i.a.useState({}),r=Object(l.a)(o,2),u=r[0],d=r[1],j=i.a.useState(!1),m=Object(l.a)(j,2),h=m[0],b=m[1],_=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(e),d(t),b(n)}),[s,d,b]);return{values:c,handleChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(S.a)(Object(S.a)({},c),{},Object(k.a)({},n,a))),d(Object(S.a)(Object(S.a)({},u),{},Object(k.a)({},n,t.validationMessage))),b(t.closest("form").checkValidity())},errors:u,isValid:h,resetForm:_}}n(49);var C=function(e){var t=e.handleSearchSubmit,n=e.handleTumblerClick,i=y({}),c=i.values,s=i.handleChange,o=i.errors,r=i.isValid,u=Object(a.useState)(!1),j=Object(l.a)(u,2),m=j[0],h=j[1];return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsxs)("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),r&&t(c.movie,m)},noValidate:!0,children:[Object(d.jsx)("input",{className:"search__input ".concat(o&&o.movie&&"search__input_type_error"),placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0,onChange:s,name:"movie",type:"text",pattern:"^[\u0430-\u044f\u0410-\u042fa-zA-Z\\d\\s\\-]+$"}),Object(d.jsx)("span",{className:"search__input-error",children:o&&o.movie&&o.movie}),Object(d.jsx)("button",{type:"submit",className:"search__button",disabled:!r,children:"\u041f\u043e\u0438\u0441\u043a"})]}),Object(d.jsxs)("label",{className:"search__tumbler",children:[Object(d.jsx)("input",{type:"checkbox",name:"shortFilmCheckbox",className:"search__checkbox",checked:m,onChange:function(e){h(e.target.checked),n(e.target.checked,c.movie)}}),Object(d.jsx)("span",{className:"search__slider"}),Object(d.jsx)("span",{className:"search__label-text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})},M=(n(50),function(e,t){return e.nameRU.toLowerCase().replaceAll(/["\xab\xbb]/g,"").split(" ").includes(t.toLowerCase())||e.nameEN&&e.nameEN.toLowerCase().replaceAll(/["\xab\xbb]/g,"").split(" ").includes(t.toLowerCase())}),w=function(e){return e.duration<=40},I=function(e,t){var n=t.toLowerCase().trim().split(" ");return e.filter((function(e){for(var t=0;t<n.length;t++)if(!M(e,n[t]))return!1;return!0}))},L=n(15),T=n(16),F="https://api.nomoreparties.co",R=new(function(){function e(t){Object(L.a)(this,e),this.baseUrl=t.baseUrl}return Object(T.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getBeatFilmMovies",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/beatfilm-movies"),{headers:{"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}}]),e}())({baseUrl:F}),z=(n(51),i.a.createContext()),E=function(e){var t,n=e.movie,i=e.image,c=e.nameRU,s=e.duration,o=e.isOnSavedPage,r=e.saveMovie,l=e.deleteMovie,u=Object(a.useContext)(z),j=n.owner&&n.owner===u._id,m="movies-card__button movies-card__button_type_save ".concat(j&&"movies-card__button_type_clicked-save");return Object(d.jsxs)("li",{className:"movies-card",children:[Object(d.jsx)("a",{className:"movies-card__image-link",href:n.trailer,target:"_blank",rel:"noreferrer",children:Object(d.jsx)("div",{className:"movies-card__image",style:{background:"center/cover url(".concat(j&&i?i:F+i.url,") no-repeat")}})}),Object(d.jsx)("p",{className:"movies-card__title",children:c}),o?Object(d.jsx)("button",{type:"button",className:"movies-card__button movies-card__button_type_delete","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c.",onClick:function(){l(n._id,n)}}):Object(d.jsx)("button",{type:"button",className:m,onClick:function(){j?l(n._id,n):r(n)},"aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c."}),Object(d.jsx)("p",{className:"movies-card__duration",children:(t=s,"".concat(Math.floor(t/60),"\u0447").concat(t%60,"\u043c"))})]})},U=(n(52),function(){return Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})}),D=n(64),P=(n(53),function(e){var t=e.movieList,n=e.isOnSavedPage,a=e.saveMovie,i=e.deleteMovie,c=e.isFound,s=e.isRequestDone,o=e.amountToRender,r=e.isLoading,l="movies-cardlist \n    ".concat(!s&&"movies-cardlist_hidden");return Object(d.jsxs)(d.Fragment,{children:[r&&Object(d.jsx)(U,{}),Object(d.jsx)("ul",{className:l,children:c?t.slice(0,o).map((function(e){return Object(d.jsx)(E,{movie:e,image:e.image,nameRU:e.nameRU,duration:e.duration,isOnSavedPage:n,saveMovie:a,deleteMovie:i},Object(D.a)())})):Object(d.jsx)("li",{className:"movies-cardlist__not-found-text",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})}),J=function(e){var t=e.movies,n=e.handleSearchSubmit,a=e.handleTumblerClick,i=e.saveMovie,c=e.deleteMovie,s=e.isFound,o=e.isRequestDone,r=e.amountToRender,l=e.handleMoreBtnClick,u=e.isMoreBtnVisible,j=e.isLoading;return Object(d.jsxs)("section",{className:"movies",children:[Object(d.jsx)(C,{handleSearchSubmit:n,handleTumblerClick:a}),Object(d.jsx)(P,{movieList:t,isOnSavedPage:!1,saveMovie:i,deleteMovie:c,isFound:s,isRequestDone:o,amountToRender:r,isLoading:j}),u&&Object(d.jsx)("button",{className:"movies__more-btn",type:"button",onClick:function(){l(r)},children:"\u0415\u0449\u0451"})]})},B=(n(54),function(e){var t=e.movies,n=e.handleSearchSubmit,a=e.handleTumblerClick,i=e.saveMovie,c=e.deleteMovie,s=e.isFound,o=e.isRequestDone;return Object(d.jsxs)("section",{className:"saved-movies",children:[Object(d.jsx)(C,{handleSearchSubmit:n,handleTumblerClick:a}),Object(d.jsx)(P,{movieList:t,isOnSavedPage:!0,saveMovie:i,deleteMovie:c,isFound:s,isRequestDone:o})]})}),V=n(3),q=(n(55),function(e){var t=e.handleLogout,n=e.handleSubmit,i=Object(a.useContext)(z),c=y({name:i.name,email:i.email}),s=c.values,r=c.handleChange,l=c.errors,u=c.isValid;return Object(d.jsx)("section",{className:"profile",children:Object(d.jsxs)("form",{className:"profile__form",method:"POST",onSubmit:function(e){e.preventDefault(),u&&n(s)},noValidate:!0,children:[Object(d.jsxs)("h3",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",i.name," !"]}),Object(d.jsxs)("div",{className:"profile__inputs",children:[Object(d.jsx)("p",{className:"profile__text profile__text_type_name",children:"\u0418\u043c\u044f"}),Object(d.jsxs)("div",{className:"profile__area profile__area_type_name",children:[Object(d.jsx)("input",{className:"profile__input profile__input_type_name",placeholder:"\u0418\u043c\u044f",id:"name-input",name:"name",onChange:r,value:s.name,minLength:"2",maxLength:"30",required:!0}),Object(d.jsx)("span",{className:"profile__input-error",id:"name-input-error",children:l&&""!==l.name&&l.name})]}),Object(d.jsxs)("div",{className:"profile__area profile__area_type_email",children:[Object(d.jsx)("input",{className:"profile__input profile__input_type_email",type:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",id:"email-input",name:"email",onChange:r,value:s.email,required:!0,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(d.jsx)("span",{className:"profile__input-error",id:"email-input-error",children:l&&""!==l.email&&l.email})]}),Object(d.jsx)("p",{className:"profile__text profile__text_type_email",children:"\u041f\u043e\u0447\u0442\u0430"})]}),Object(d.jsx)("button",{type:"submit",className:"profile__button",disabled:!u,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(d.jsx)(o.b,{to:"/",className:"profile__link",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})}),A=(n(56),function(e){var t=e.greeting,n=e.isNameVisible,a=e.buttonText,i=e.handleSubmit,c=e.captionText,s=e.route,r=e.navLinkText,l=y({}),u=l.values,j=l.handleChange,m=l.errors,h=l.isValid;return Object(d.jsxs)("form",{className:"auth",method:"POST",onSubmit:function(e){e.preventDefault(),h&&i(u)},noValidate:!0,children:[Object(d.jsx)(o.b,{to:"/",className:"auth__logo"}),Object(d.jsx)("h3",{className:"auth__greeting",children:t}),Object(d.jsxs)("div",{className:"auth__inputs",children:[n&&Object(d.jsxs)("div",{className:"auth__name-area",children:[Object(d.jsx)("label",{className:"auth__label",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:"auth__input ".concat(m&&m.name&&"auth__input_type_error"),placeholder:"\u0418\u043c\u044f",name:"name",required:!0,id:"name-input",minLength:"2",maxLength:"30",onChange:j}),Object(d.jsx)("span",{className:"auth__input-error",id:"name-input-error",children:m&&m.name&&m.name})]}),Object(d.jsx)("label",{className:"auth__label",children:"Email"}),Object(d.jsx)("input",{className:"auth__input ".concat(m&&m.email&&"auth__input_type_error"),placeholder:"Email",type:"email",name:"email",required:!0,id:"email-input",onChange:j,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(d.jsx)("span",{className:"auth__input-error",id:"email-input-error",children:m&&m.email&&m.email}),Object(d.jsx)("label",{className:"auth__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:"auth__input ".concat(m&&m.password&&"auth__input_type_error"),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",minLength:"8",required:!0,name:"password",id:"password-input",onChange:j}),Object(d.jsx)("span",{className:"auth__input-error",id:"password-input-error",children:m&&m.password&&m.password})]}),Object(d.jsx)("button",{className:"auth__submit-btn",type:"submit",disabled:!h,children:a}),Object(d.jsxs)("p",{className:"auth__caption",children:[c,Object(d.jsx)(o.b,{to:s,className:"auth__link",children:r})]})]})}),W=(n(57),function(e){var t=e.onLogin;return Object(d.jsx)("section",{className:"login",children:Object(d.jsx)(A,{greeting:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",isNameVisible:!1,buttonText:"\u0412\u043e\u0439\u0442\u0438",handleSubmit:t,captionText:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",route:"/signup",navLinkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})}),$=(n(58),function(e){var t=e.onRegister;return Object(d.jsx)("section",{className:"register",children:Object(d.jsx)(A,{greeting:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",isNameVisible:!0,buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",handleSubmit:t,captionText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",route:"/signin",navLinkText:"\u0412\u043e\u0439\u0442\u0438"})})}),G=(n(59),function(){var e=Object(V.g)();return Object(d.jsxs)("section",{className:"not-found",children:[Object(d.jsx)("h1",{className:"not-found__title",children:"404"}),Object(d.jsx)("p",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)("button",{className:"not-found__link",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})}),H=(n(60),function(e){var t=e.handleMenuClose,n=e.isOpen,a=e.handleOnSavedMoviesClick,i=e.handleOnMoviesClick,c=e.onClick;return Object(d.jsx)("section",{className:"menu ".concat(n&&"menu_opened"),onClick:c,children:Object(d.jsxs)("div",{className:"menu__area",children:[Object(d.jsx)("button",{className:"menu__close-btn",onClick:t}),Object(d.jsx)(j,{handleOnSavedMoviesClick:a,handleOnMoviesClick:i})]})})}),Y=(n(61),function(e){var t=e.closePopup,n=e.isOpen,a=e.message,i=e.onClick;return Object(d.jsx)("section",{className:"popup ".concat(n&&"popup_opened"),onClick:i,children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{className:"popup__close-btn",type:"button",onClick:t}),Object(d.jsx)("p",{className:"popup__message",children:a})]})})}),Z="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",K="\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",Q="default",X=new(function(){function e(t){Object(L.a)(this,e),this.baseUrl=t.baseUrl}return Object(T.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getMovies",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"saveMovie",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"POST",body:JSON.stringify({country:t.country?t.country:Q,director:t.director?t.director:Q,duration:t.duration?t.duration:0,year:t.year?t.year:0,description:t.description?t.description:Q,image:t.image.url?F+t.image.url:t.image,trailer:t.trailer?t.trailer:t.trailerLink,nameRU:t.nameRU?t.nameRU:Q,nameEN:t.nameEN?t.nameEN:Q,thumbnail:t.thumbnail?t.thumbnail:F+t.image.formats.thumbnail.url,movieId:t.id})}).then((function(e){return n._getResponseData(e)}))}},{key:"deleteMovieFromSaved",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/movies/").concat(t),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"DELETE"}).then((function(e){return n._getResponseData(e)}))}},{key:"toggleMovieSave",value:function(e,t,n,a){return a?this.deleteMovieFromSaved(e,n):this.saveMovie(e,t)}},{key:"getUserInfo",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"updateUserInfo",value:function(e,t,n){var a=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({email:t,name:n})}).then((function(e){return a._getResponseData(e)}))}}]),e}())({baseUrl:"https://api.annakin.diploma.students.nomoredomains.monster"}),ee="https://api.annakin.diploma.students.nomoredomains.monster",te=n(25),ne=function(e){var t=e.component,n=Object(te.a)(e,["component"]);return Object(d.jsx)(V.b,{children:function(){return n.isLoggedIn?Object(d.jsx)(t,Object(S.a)({},n)):Object(d.jsx)(V.a,{to:"./signin"})}})};var ae=function(){var e=Object(V.g)(),t=Object(V.h)(),n=Object(a.useState)({}),i=Object(l.a)(n,2),c=i[0],s=i[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),j=u[0],h=u[1],b=Object(a.useState)(!1),_=Object(l.a)(b,2),p=_[0],f=_[1],v=Object(a.useState)(!1),O=Object(l.a)(v,2),x=O[0],k=O[1],S=Object(a.useState)(!1),y=Object(l.a)(S,2),C=y[0],M=y[1],L=Object(a.useState)(!1),T=Object(l.a)(L,2),F=T[0],E=T[1],U=Object(a.useState)(""),D=Object(l.a)(U,2),P=D[0],A=D[1],Q=Object(a.useState)([]),te=Object(l.a)(Q,2),ae=te[0],ie=te[1],ce=Object(a.useState)([]),se=Object(l.a)(ce,2),oe=se[0],re=se[1],le=Object(a.useState)([]),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],me=Object(a.useState)(!1),he=Object(l.a)(me,2),be=he[0],_e=he[1],pe=Object(a.useState)(!1),fe=Object(l.a)(pe,2),ve=fe[0],Oe=fe[1],xe=Object(a.useState)(!1),ge=Object(l.a)(xe,2),Ne=ge[0],ke=ge[1],Se=Object(a.useState)(!1),ye=Object(l.a)(Se,2),Ce=ye[0],Me=ye[1],we=Object(a.useState)(0),Ie=Object(l.a)(we,2),Le=Ie[0],Te=Ie[1],Fe=Object(a.useState)(0),Re=Object(l.a)(Fe,2),ze=Re[0],Ee=Re[1],Ue=Object(a.useState)(!1),De=Object(l.a)(Ue,2),Pe=De[0],Je=De[1],Be=Object(a.useState)(!1),Ve=Object(l.a)(Be,2),qe=Ve[0],Ae=Ve[1];Object(a.useEffect)((function(){E(!0);var e=localStorage.getItem("jwt");j&&Promise.all([X.getMovies(e),X.getUserInfo(e)]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1],i=n.filter((function(e){return console.log(e.owner,c._id),e.owner===c._id}));localStorage.setItem("savedMovies",JSON.stringify(i)),je(i),s(a),localStorage.getItem("beatFilmMovies")&&ie(JSON.parse(localStorage.getItem("beatFilmMovies")))})).catch((function(e){return console.log(e)})).finally((function(){E(!1)}))}),[j,c._id]),Object(a.useEffect)((function(){return window.addEventListener("resize",We),function(){return window.removeEventListener("resize",We)}}),[]),Object(a.useEffect)((function(){!function(){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");(n=t,fetch("".concat(ee,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(t){t?(s({email:t.email,name:t.name,_id:t._id}),h(!0),e.push("/movies")):(h(!1),e.push("/"))})).catch((function(e){return console.log(e)}))}var n}(),localStorage.removeItem("movies")}),[e]);var We=function(){var e=0;window.innerWidth>=1280&&(Ee(3),Te(12),e=12),window.innerWidth>=1024&&window.innerWidth<1279&&(Ee(3),Te(9),e=9),window.innerWidth<1024&&window.innerWidth>480&&(Ee(2),Te(8),e=8),window.innerWidth<=480&&window.innerWidth>=320&&(Ee(2),Te(5),e=5);var t=JSON.parse(localStorage.getItem("movies"));return Je(t&&t.length>e),{renderValue:e}},$e=function(e,t){var n=We(),a=e.map((function(e){var t=de.find((function(t){return t.movieId===e.id}));return t||e}));if(localStorage.setItem("movies",JSON.stringify(a)),t){var i=a.filter(w);re(i),Je(i.length>n.renderValue)}else re(a)},Ge=function(e,t){E(!0),function(e){return new Promise((function(t,n){0===ae.length?R.getBeatFilmMovies().then((function(n){localStorage.setItem("beatFilmMovies",JSON.stringify(n)),ie(n),t(I(n,e))})).catch((function(e){console.log(e),n(e)})):t(I(ae,e))}))}(e).then((function(e){e&&e.length>0?(_e(!0),localStorage.setItem("movies",JSON.stringify(e)),$e(e,t)):(localStorage.removeItem("movies"),_e(!1),Je(!1))})).catch((function(e){console.log(e),et(K)})).finally((function(){ke(!0),E(!1)}))},He=function(e,t){E(!0),function(e){return new Promise((function(t,n){de?t(I(de,e)):n(K)}))}(e).then((function(e){e&&e.length>0?(Oe(!0),je(e)):Oe(!1)})).catch((function(e){console.log(e),et(K)})).finally((function(){Me(!0),E(!1)}))},Ye=function(e){(Ne||Ce)&&(qe?function(e){var t=JSON.parse(localStorage.getItem("savedMovies"));if(t&&t.length>0)if(Oe(!0),e){var n=de.filter(w);je(n)}else je(t);Me(!0)}(e):function(e){var t=JSON.parse(localStorage.getItem("movies"));t&&t.length>0&&(_e(!0),$e(t,e)),ke(!0)}(e))},Ze=function(e){var t=localStorage.getItem("jwt"),n=JSON.parse(localStorage.getItem("savedMovies"));n.some((function(t){return t.movieId===e.id}))||(E(!0),X.saveMovie(t,e).then((function(e){re(oe.map((function(t){return t.id===e.movieId?e:t})));var t=[e].concat(Object(r.a)(n));localStorage.setItem("savedMovies",JSON.stringify(t)),je(t)})).catch((function(e){return console.log(e)})).finally((function(){E(!1)})))},Ke=function(e,t){E(!0);var n=localStorage.getItem("jwt"),a=JSON.parse(localStorage.getItem("savedMovies"));X.deleteMovieFromSaved(n,e).then((function(t){var n=a.filter((function(e){return e._id!==t._id}));localStorage.setItem("savedMovies",JSON.stringify(n)),je(n),re(oe.map((function(t){return t._id===e?ae.find((function(e){return e.id===t.movieId})):t})))})).catch((function(e){return console.log(e)})).finally((function(){E(!1)}))},Qe=function(){Ae(!0);var e=JSON.parse(localStorage.getItem("savedMovies"));e&&e.length>0&&(Oe(!0),Me(!0),je(e))},Xe=function(){Ae(!1);var e=JSON.parse(localStorage.getItem("movies"));e&&e.length>0&&(_e(!0),ke(!0),$e(e,!1))},et=function(e){it(),A(e),M(!0)},tt=function(){k(!1),M(!1),ct()},nt=function(e){"Escape"===e.key&&tt()},at=function(e){e.target===e.currentTarget&&tt()},it=function(){document.addEventListener("keydown",nt)},ct=function(){document.removeEventListener("keydown",nt)},st=function(t){(function(e,t){return fetch("".concat(ee,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))})(t.email,t.password).then((function(t){t&&t.token?(s({email:t.email,name:t.name,_id:t._id}),h(!0),e.push("/movies")):(et("\u041f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"),h(!1))})).catch((function(e){return console.log(e.message)}))};return Object(d.jsx)(z.Provider,{value:c,children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(m,{pathname:t.pathname,isLoggedIn:j,handleMenuOpen:function(){k(!0),it()},handleOnSavedMoviesClick:Qe,handleOnMoviesClick:Xe}),Object(d.jsxs)(V.d,{children:[Object(d.jsx)(V.b,{exact:!0,path:"/",children:Object(d.jsx)(g,{})}),Object(d.jsx)(ne,{path:"/movies",component:J,isLoggedIn:j,movies:oe,handleSearchSubmit:function(e,t){qe?He(e):Ge(e,t)},handleTumblerClick:Ye,saveMovie:Ze,deleteMovie:Ke,isFound:be,isRequestDone:Ne,amountToRender:Le,handleMoreBtnClick:function(){var e=Le+Math.min(oe.length-Le,ze);Te(e),oe.length-e===0&&Je(!1)},isMoreBtnVisible:Pe,isLoading:F}),Object(d.jsx)(ne,{path:"/saved-movies",component:B,isLoggedIn:j,movies:de,handleSearchSubmit:He,handleTumblerClick:Ye,saveMovie:Ze,deleteMovie:Ke,isFound:ve,isRequestDone:Ce,isLoading:F}),Object(d.jsx)(ne,{path:"/profile",component:q,isLoggedIn:j,handleLogout:function(){h(!1),s({}),localStorage.removeItem("jwt"),localStorage.removeItem("movies"),localStorage.removeItem("savedMovies"),localStorage.removeItem("beatFilmMovies"),re([]),Je(!1),e.push("/")},handleSubmit:function(e){var t=e.email,n=e.name;E(!0);var a=localStorage.getItem("jwt");X.updateUserInfo(a,t,n).then((function(e){e&&(s({email:e.email,name:e.name,_id:e._id}),et("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"))})).catch((function(e){return console.log(e)})).finally((function(){E(!1)}))},isLoading:F}),Object(d.jsx)(V.b,{path:"/signin",children:Object(d.jsx)(W,{onLogin:st})}),Object(d.jsx)(V.b,{path:"/signup",children:Object(d.jsx)($,{onRegister:function(e){var t=e.email,n=e.password,a=e.name;(function(e,t,n){return fetch("".concat(ee,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then((function(e){try{if(200===e.status)return e.json()}catch(t){return t}})).then((function(e){return e}))})(t,n,a).then((function(e){e?(f(!1),et("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"),st({email:t,password:n})):(f(!0),et(Z))})).catch((function(e){f(!0),et(Z),console.log(e.message)}))}})}),Object(d.jsx)(V.b,{path:"*",children:Object(d.jsx)(G,{})})]}),Object(d.jsx)(N,{pathname:t.pathname}),Object(d.jsx)(H,{handleMenuClose:tt,isOpen:x,handleOnSavedMoviesClick:Qe,handleOnMoviesClick:Xe,onClick:at}),Object(d.jsx)(Y,{closePopup:tt,isOpen:C,isFailed:p,message:P,onClick:at})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(ae,{})})}),document.getElementById("root")),ie()}]),[[62,1,2]]]);
//# sourceMappingURL=main.9b69df51.chunk.js.map